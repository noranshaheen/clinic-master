import{J as b}from"./ActionMessage-529841b6.js";import{J as v}from"./ActionSection-14bbef3c.js";import{J as w}from"./Button-fce1e67a.js";import{J as D}from"./ConfirmationModal-2d2586d4.js";import{J as C}from"./DangerButton-bf3f8f1f.js";import{J as S}from"./DialogModal-9cb7d35f.js";import{J as j}from"./FormSection-60b88c5f.js";import{J as V}from"./Input-9c9fd5b2.js";import{J as y}from"./Checkbox-7ff4e1d6.js";import{J as k}from"./InputError-48880b4d.js";import{J as M}from"./Label-c6c7e0c2.js";import{J as B}from"./SecondaryButton-fb7ef34d.js";import{J as N}from"./SectionBorder-a45d0249.js";import{J as x}from"./ValidationErrors-ce3c07bd.js";import{M as T}from"./vue3-multiselect.umd.min-89fe1e95.js";import{k as u,c as A,w as l,r as a,o as U,f as p,t as m,b as r,a as i,h as E,n as F}from"./app-98cccb0d.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";import"./SectionTitle-f26ec90c.js";import"./Modal-2ccc6cf7.js";/* empty css            */const q={components:{JetActionMessage:b,JetActionSection:v,JetButton:w,JetConfirmationModal:D,JetDangerButton:C,JetDialogModal:S,JetFormSection:j,JetInput:V,JetCheckbox:y,JetInputError:k,JetLabel:M,JetSecondaryButton:B,JetSectionBorder:N,JetValidationErrors:x,Multiselect:T},props:{drug:{Type:Object,default:null}},data(){return{errors:[],allDiagnosis:[],form:this.$inertia.form({name:"",description:"",diagnose:""}),showDialog:!1}},methods:{ShowDialog(){this.drug!==null&&(this.form.name=this.drug.name,this.form.description=this.drug.description,this.form.diagnose=this.drug.diagnosis),this.showDialog=!0,console.log(this.drug)},CancelAddcustomer(){this.showDialog=!1},SaveCustomer(){u.put(route("drugs.update",{drug:this.drug.id}),this.form).then(e=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.showDialog=!1,setTimeout(()=>{window.location.reload()},500)}).catch(e=>{console.log(e),this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},SaveNewCustomer(){u.post(route("drugs.store"),this.form).then(e=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.processing=!1,this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.showDialog=!1,setTimeout(()=>{window.location.reload()},500)}).catch(e=>{this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},submit(){this.drug==null?this.SaveNewCustomer():this.SaveCustomer()}},created:function(){u.get(route("diagnosi.all")).then(o=>{this.allDiagnosis=o.data}).catch(o=>{})}},z={class:"grid grid-cols-1"},L={class:"mt-4"},O={class:"mt-4"},R={class:"mt-4"},G={class:"m-2 text-gray-400 text-sm"},H={class:"flex items-center justify-end"};function K(e,o,P,Q,s,n){const f=a("jet-validation-errors"),d=a("jet-label"),c=a("jet-input"),h=a("multiselect"),g=a("jet-secondary-button"),_=a("jet-button"),J=a("jet-dialog-modal");return U(),A(J,{show:s.showDialog,onClose:o[5]||(o[5]=t=>s.showDialog=!1)},{title:l(()=>[p(m(e.__("Drug Information")),1)]),content:l(()=>[r(f,{class:"mb-4"}),i("form",{onSubmit:o[3]||(o[3]=E((...t)=>n.submit&&n.submit(...t),["prevent"]))},[i("div",z,[i("div",null,[i("div",L,[r(d,{value:e.__("Drug Name")},null,8,["value"]),r(c,{type:"text",class:"mt-1 block w-full",modelValue:s.form.name,"onUpdate:modelValue":o[0]||(o[0]=t=>s.form.name=t),required:""},null,8,["modelValue"])]),i("div",O,[r(d,{value:e.__("Drug Description")},null,8,["value"]),r(c,{type:"text",class:"mt-1 block w-full",modelValue:s.form.description,"onUpdate:modelValue":o[1]||(o[1]=t=>s.form.description=t)},null,8,["modelValue"])]),i("div",R,[r(d,{value:e.__("Related Diagnosis")},null,8,["value"]),i("span",G,m(e.__("(you can choose multiple options)")),1),r(h,{modelValue:s.form.diagnose,"onUpdate:modelValue":o[2]||(o[2]=t=>s.form.diagnose=t),label:"name",options:s.allDiagnosis,searchable:!0,multiple:!0,"track-by":"id",placeholder:e.__("Select Diagnose")},null,8,["modelValue","options","placeholder"])])])])],32)]),footer:l(()=>[i("div",H,[r(g,{onClick:o[4]||(o[4]=t=>n.CancelAddcustomer())},{default:l(()=>[p(m(e.__("Cancel")),1)]),_:1}),r(_,{class:F(["ms-2",{"opacity-25":s.form.processing}]),onClick:n.submit,disabled:s.form.processing},{default:l(()=>[p(m(e.__("Save")),1)]),_:1},8,["onClick","class","disabled"])])]),_:1},8,["show"])}const he=I(q,[["render",K]]);export{he as default};
