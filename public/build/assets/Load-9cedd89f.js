import{J as f}from"./ActionMessage-61e2ac70.js";import{J as g}from"./ActionSection-b2837b81.js";import{J as _}from"./Button-4bcf952d.js";import{J as v}from"./ConfirmationModal-25a9f4bd.js";import{J}from"./DangerButton-8bc4ac7b.js";import{J as x}from"./DialogModal-abac778c.js";import{J as y}from"./FormSection-88b4b82e.js";import{J as k}from"./Input-1c19b971.js";import{J as V}from"./Checkbox-4a56b901.js";import{J as b}from"./InputError-a5d97e62.js";import{J as w}from"./Label-df30c280.js";import{J as B}from"./SecondaryButton-713ac718.js";import{J as A}from"./SectionBorder-e50f0f2f.js";import{J as C}from"./ValidationErrors-d148bef4.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import{c as T,w as r,r as i,o as N,f as n,t as a,b as l,a as o,e as m}from"./app-150d5054.js";import"./SectionTitle-3e354ea0.js";import"./Modal-af9a88ec.js";/* empty css            */const S={components:{JetActionMessage:f,JetActionSection:g,JetButton:_,JetConfirmationModal:v,JetDangerButton:J,JetDialogModal:x,JetFormSection:y,JetInput:k,JetCheckbox:V,JetInputError:b,JetLabel:w,JetSecondaryButton:B,JetSectionBorder:A,JetValidationErrors:C},props:["branch"],data(){return{errors:[],progress1:{value:0,maxValue:100},progress2:{value:0,maxValue:100},form:{value:0},addingNew:!1}},methods:{ShowDialog(){this.addingNew=!0,this.$nextTick(()=>this.LoadETA1())},CancelAdd(){this.addingNew=!1},LoadETA1(){this.form.value=this.progress1.value+1,axios.post(route("eta.invoices.sync.all"),this.form).then(e=>{this.progress1.maxValue=e.data.totalPages,this.progress1.value=this.progress1.value+1,this.progress1.value<this.progress1.maxValue&&this.$nextTick(()=>this.LoadETA1())}).catch(e=>{this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},LoadETA2(){this.form.value=this.progress2.value+1,axios.post(route("eta.invoices.sync.received"),this.form).then(e=>{this.progress2.maxValue=e.data.totalPages,this.progress2.value=this.progress2.value+1,this.progress2.value<this.progress2.maxValue?this.$nextTick(()=>this.LoadETA2()):this.CancelAdd()}).catch(e=>{this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},submit(){}}},L={for:"sync1"},$=o("br",null,null,-1),j=["value","max"];const D=o("br",null,null,-1);const I={class:"flex items-center justify-end mt-4"};function M(e,t,z,P,s,p){const c=i("jet-validation-errors"),d=i("jet-secondary-button"),u=i("jet-dialog-modal");return N(),T(u,{show:s.addingNew,onClose:t[1]||(t[1]=h=>s.addingNew=!1)},{title:r(()=>[n(a(e.__("Loading invoices from ETA")),1)]),content:r(()=>[l(c,{class:"mb-4"}),o("div",null,[o("label",L,a(e.__("Synchronizing Invoices...")),1),$,o("progress",{class:"w-full",id:"sync1",value:s.progress1.value,max:s.progress1.maxValue},a(s.progress1.value)+"% ",9,j),m("",!0),D,m("",!0)])]),footer:r(()=>[o("div",I,[l(d,{onClick:t[0]||(t[0]=h=>p.CancelAdd())},{default:r(()=>[n(a(e.__("Cancel")),1)]),_:1})])]),_:1},8,["show"])}const ne=E(S,[["render",M]]);export{ne as default};
