import k from"./ServiceFees-087d98f8.js";import{J as S}from"./Button-11813b5e.js";import{J}from"./DialogModal-22356253.js";import{J as B}from"./SecondaryButton-8a1eaf86.js";import{J as P}from"./Input-8a286b7b.js";import{k as D,d as m,b as c,a as e,w as l,F as x,r as p,o as a,f as r,t as o,e as d,c as h}from"./app-010fad37.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import"./Modal-97755a3c.js";/* empty css            */const F={components:{ServiceFees:k,JetButton:S,JetDialogModal:J,JetSecondaryButton:B,JetInput:P,axios:D},props:{appointment_Details:{default:null}},data(){return{showDialog:!1,amount:!1,form:this.$inertia.form({amount:"",appointment_id:"",notes:""}),prescription:[]}},methods:{ShowDialog(){this.showDialog=!0,console.log(this.appointment_Details)},subtractHours(t,n){var s=new Date(t);s.setHours(s.getHours()-n);var y=s.toLocaleTimeString();return y},additionalPayments(t){D.get(route("prescription.serviceFees",t)).then(n=>{this.prescription=n.data,this.form.appointment_id=t,this.$nextTick(()=>{this.$refs.dlg1.ShowDialog()}),this.showDialog=!1})},save(){this.form.appointment_id=this.appointment_Details[0].id,D.post(route("appointment.pay"),this.form).then(t=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.close()}).catch(t=>{})},close(){this.showDialog=!1,this.amount=!1,this.form.reset()}}},T={key:0},V={class:"text-center text-red-600 my-5"},A=e("i",{class:"fa fa-exclamation-circle mr-1"},null,-1),N={class:"w-full"},j={class:"border"},H={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},M={class:"pl-5"},q={class:"border"},E={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},I={class:"pl-5"},L={class:"border"},R={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},U={class:"pl-5"},W={class:"border"},z={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},G={class:"pl-5"},K={class:"border"},O={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},Q={class:"pl-5"},X={class:"flex justify-between items-center"},Y={key:0,class:"font-bold text-green-500"},Z={key:1,class:"font-bold text-red-500"},$={key:0,class:"border"},tt={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},et={class:"px-5"},st={key:1,class:"border"},ot={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},nt={class:"px-5"};function at(t,n,s,y,i,u){const w=p("ServiceFees"),f=p("JetButton"),g=p("jet-input"),b=p("JetSecondaryButton"),v=p("jet-dialog-modal");return a(),m(x,null,[c(w,{ref:"dlg1",prescription:i.prescription,appointment_id:i.form.appointment_id},null,8,["prescription","appointment_id"]),e("div",null,[c(v,{show:i.showDialog,onClose:n[5]||(n[5]=_=>i.showDialog=i.amount=!1),maxWidth:"md"},{title:l(()=>[r(o(t.__("Appointment Details")),1)]),content:l(()=>[s.appointment_Details[0].cancelled?(a(),m("div",T,[e("p",V,[A,r(" "+o(t.__("This appointment has been cancelled please contact with patient")),1)])])):d("",!0),e("table",N,[e("tr",j,[e("th",H,o(t.__("Reservation Time")),1),e("td",M,o(u.subtractHours(s.appointment_Details[0].from,3)),1)]),e("tr",q,[e("th",E,o(t.__("Patient Name")),1),e("td",I,o(s.appointment_Details[1].name),1)]),e("tr",L,[e("th",R,o(t.__("Phone Number")),1),e("td",U,o(s.appointment_Details[1].phone),1)]),e("tr",W,[e("th",z,o(t.__("Appointment Type")),1),e("td",G,o(s.appointment_Details[0].type),1)]),e("tr",K,[e("th",O,o(t.__("Payment Status")),1),e("td",Q,[e("div",X,[s.appointment_Details[0].status=="paid"?(a(),m("span",Y,o(t.__(s.appointment_Details[0].status)),1)):d("",!0),s.appointment_Details[0].status=="hold"?(a(),m("span",Z,o(t.__(s.appointment_Details[0].status)),1)):d("",!0),s.appointment_Details[0].amount==null&&s.appointment_Details[0].cancelled==null?(a(),h(f,{key:2,onClick:n[0]||(n[0]=_=>i.amount=!0),class:"font-sm"},{default:l(()=>[r(o(t.__("Pay")),1)]),_:1})):s.appointment_Details[0].cancelled!==null||s.appointment_Details[0].amount!==null?(a(),h(f,{key:3,disabled:!0,class:"font-sm bg-green-400"},{default:l(()=>[r(o(t.__("Pay")),1)]),_:1})):d("",!0)])])]),i.amount==!0?(a(),m("tr",$,[e("th",tt,o(t.__("Payment Amount")),1),e("td",et,[c(g,{id:"type",type:"text",class:"block w-full",modelValue:i.form.amount,"onUpdate:modelValue":n[1]||(n[1]=_=>i.form.amount=_),required:""},null,8,["modelValue"])])])):d("",!0),s.appointment_Details[0].status=="paid"?(a(),m("tr",st,[e("th",ot,o(t.__("Payment Amount")),1),e("td",nt,[c(g,{id:"type",type:"text",class:"block w-full",value:s.appointment_Details[0].amount,disabled:!0},null,8,["value"])])])):d("",!0)]),c(b,{class:"my-2",onClick:n[2]||(n[2]=_=>u.additionalPayments(s.appointment_Details[0].id))},{default:l(()=>[r(o(t.__("Additional Payments")),1)]),_:1})]),footer:l(()=>[s.appointment_Details[0].amount==null&&s.appointment_Details[0].cancelled==null?(a(),h(f,{key:0,class:"ml-2",onClick:n[3]||(n[3]=_=>u.save())},{default:l(()=>[r(o(t.__("Save")),1)]),_:1})):(a(),h(f,{key:1,class:"ml-2",disabled:!0},{default:l(()=>[r(o(t.__("Save")),1)]),_:1})),c(b,{class:"ml-2",onClick:n[4]||(n[4]=_=>u.close())},{default:l(()=>[r(o(t.__("Close")),1)]),_:1})]),_:1},8,["show"])])],64)}const ft=C(F,[["render",at]]);export{ft as default};
