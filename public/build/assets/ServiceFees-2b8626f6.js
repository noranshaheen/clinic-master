import{J as b}from"./Button-4bcf952d.js";import{J}from"./DialogModal-abac778c.js";import{J as y}from"./SecondaryButton-713ac718.js";import{J as x}from"./Input-1c19b971.js";import{k as _,d as n,b as c,w as i,r as p,o as a,f as m,t as d,a as o,F as S,g as B,e as u}from"./app-150d5054.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";import"./Modal-af9a88ec.js";/* empty css            */const D={components:{JetButton:b,JetDialogModal:J,JetSecondaryButton:y,JetInput:x,axios:_},props:{prescription:{default:null},appointment_id:{default:null}},data(){return{showDialog:!1,total:"",form:this.$inertia.form({paid:0,appointment:this.appointment_id})}},methods:{ShowDialog(){this.showDialog=!0,console.log(this.prescription),this.form.appointment=this.appointment_id,this.getTotalServiceFees(this.prescription.prescription_items)},getTotalServiceFees(s){var e=0;s.forEach(l=>{l.service_fees!==null&&(e+=Number(l.service_fees))}),this.total=e},save(){_.post(route("payments.payServiceFees"),this.form).then(s=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.close()}).catch(s=>{})},close(){this.showDialog=!1,this.form.reset()}}},F={class:"w-full"},V={class:"border"},C={key:0,class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},j={key:1,class:"flex justify-start content-center items-center"},N={class:"border"},T=o("th",{class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},"Total",-1),E={class:"font-bold"},M={class:"border"},I=o("th",{class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},"Paid",-1),L={class:"border"};function P(s,e,l,U,r,f){const h=p("jet-input"),g=p("JetButton"),v=p("JetSecondaryButton"),w=p("jet-dialog-modal");return a(),n("div",null,[c(w,{show:r.showDialog,onClose:e[3]||(e[3]=t=>r.showDialog=!1),maxWidth:"md"},{title:i(()=>[m(d(s.__("service fees details")),1)]),content:i(()=>[o("table",F,[(a(!0),n(S,null,B(l.prescription.prescription_items,t=>(a(),n("tr",V,[t.service_fees!==null?(a(),n("td",C,d(t.drugs.name),1)):u("",!0),t.service_fees!==null?(a(),n("td",j,[o("span",null,d(t.service_fees),1)])):u("",!0)]))),256)),o("tr",N,[T,o("td",E,d(r.total),1)]),o("tr",M,[I,o("tr",L,[c(h,{id:"type",type:"number",class:"block w-full rounded",modelValue:r.form.paid,"onUpdate:modelValue":e[0]||(e[0]=t=>r.form.paid=t)},null,8,["modelValue"])])])])]),footer:i(()=>[c(g,{class:"ml-2",onClick:e[1]||(e[1]=t=>f.save())},{default:i(()=>[m("save")]),_:1}),c(v,{class:"ml-2",onClick:e[2]||(e[2]=t=>f.close())},{default:i(()=>[m("close")]),_:1})]),_:1},8,["show"])])}const O=k(D,[["render",P]]);export{O as default};
