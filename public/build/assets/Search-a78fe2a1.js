import{A as D}from"./AppLayout-f49bf28b.js";import{J as w}from"./Label-df30c280.js";import{J as S}from"./Button-4bcf952d.js";import{J as V}from"./SecondaryButton-713ac718.js";import{J as I}from"./DangerButton-8bc4ac7b.js";import{T as L}from"./TextField-3250345e.js";import{M as T}from"./vue3-multiselect.umd.min-0e68115f.js";import k from"./EditLine-0ace7ad9.js";import{k as p,c as E,w as _,r as m,o as i,a as e,b as l,f as u,t as r,d as a,F as x,g as v}from"./app-150d5054.js";import"./sweetalert.min-d55a1c1c.js";/* empty css                                                                  */import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";import"./Edit-bcfc13f2.js";import"./ActionMessage-61e2ac70.js";import"./ActionSection-b2837b81.js";import"./SectionTitle-3e354ea0.js";import"./ConfirmationModal-25a9f4bd.js";import"./Modal-af9a88ec.js";import"./DialogModal-abac778c.js";import"./FormSection-88b4b82e.js";import"./Input-1c19b971.js";import"./Checkbox-4a56b901.js";import"./InputError-a5d97e62.js";import"./SectionBorder-e50f0f2f.js";import"./ValidationErrors-d148bef4.js";/* empty css            */import"./Edit-0682400b.js";import"./Edit-3c089fa6.js";import"./Edit-be99b5ee.js";import"./Edit-597f2255.js";import"./Edit-f9922137.js";import"./Edit-faa18d1d.js";import"./Edit-cd91fcb4.js";import"./Edit-07cd30d2.js";import"./Edit-34545e2b.js";import"./Edit-db4f3217.js";import"./Load-49470aa5.js";import"./Load-63f267b7.js";import"./Edit-ae599c19.js";import"./Upload-84ea7cbc.js";import"./Upload-9f5fa312.js";import"./Settings-16afee17.js";import"./Settings-c1b5727e.js";import"./Upload-ac8dd442.js";import"./Request-7a72620a.js";import"./Add-a5bec431.js";import"./Load-9cedd89f.js";import"./Upload-8acddc09.js";import"./Load-38871443.js";import"./ItemsMap-522638f4.js";import"./Upload-92e0933c.js";import"./ItemsMap-e43ca060.js";import"./RequestEx-92427893.js";const A={components:{AppLayout:D,JetLabel:w,JetButton:S,JetSecondaryButton:V,JetDangerButton:I,DialogInvoiceLine:k,TextField:L,Multiselect:T},props:{},data(){return{tab_idx:1,clinics:[],doctors:[],expenses:[],incomes:[],mateched_clinics:[],form:{clinic:"",doctor:"",startDate:new Date().toISOString().slice(0,10),endDate:new Date().toISOString().slice(0,10)}}},methods:{onSearchExpenses:function(){p.post(route("bills.expenses.searchData"),this.form).then(t=>{this.incomes=[],this.expenses=t.data,console.log(t.data)}).catch(t=>{})},onSearchIncomes:function(){p.post(route("bills.income.searchData"),this.form).then(t=>{this.expenses=[],this.incomes=t.data,console.log(t.data)}).catch(t=>{})},getTotalLineIncome(t){if(t.appointment.payment!==null){var o=Number(t.appointment.payment.detection_fees);return t.prescription_items.forEach(n=>{n.service_fees!==null&&(o+=Number(n.service_fees))}),o}else return"0"},totalIncomes(){if(this.incomes.length>0){var t=0;return this.incomes.forEach(o=>{t+=Number(this.getTotalLineIncome(o))}),t}},totalExpenses(){if(this.expenses.length>0){var t=0;return this.expenses.forEach(o=>{t+=Number(o.totalAmount)}),t}}},created:function(){p.get(route("doctor.all")).then(o=>{var n={id:-1,name:"All"};this.doctors=o.data,this.doctors.unshift(n)}),p.get(route("clinic.all")).then(o=>{var n={id:-1,name:"All"};this.clinics=o.data,this.clinics.unshift(n)})}},J={class:"py-4"},B={class:"mx-auto sm:px-6 lg:px-8"},F={class:"bg-white shadow-xl sm:rounded-lg px-4 pb-4 pt-4"},j={class:"grid lg:grid-cols-2 gap-4 sm:grid-cols-1 h-1/2 overflow"},C={class:"flex items-center justify-start mt-4"},U={class:"mx-auto sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},O={key:0,class:"result my-5 overflow-x-auto w-full"},P={class:"w-11/12 mx-auto max-w-4xl lg:max-w-full"},R={class:"text-center bg-gray-300"},W={class:"bg-[#f8f9fa] p-3 border border-[#d4d4d4]"},q={class:"bg-[#f8f9fa] p-3 border border-[#d4d4d4]"},z={class:"text-center border border-[#d4d4d4]"},G={class:"p-2 border border-[#d4d4d4]"},H={class:"p-2 border border-[#d4d4d4]"},K={class:"border border-[#d4d4d4]"},Q=e("td",{class:"p-2 border border-[#d4d4d4]"},r("Total"),-1),X={class:"p-2 border border-[#d4d4d4]"},Y={key:1,class:"result my-5 overflow-x-auto w-full"},Z={class:"w-11/12 mx-auto max-w-4xl lg:max-w-full"},$={class:"text-center bg-gray-300"},ee={class:"bg-[#f8f9fa] border border-[#d4d4d4]"},te={class:"bg-[#f8f9fa] p-3 border border-[#d4d4d4]"},oe={class:"bg-[#f8f9fa] p-3 border border-[#d4d4d4]"},se={class:"text-center border border-[#d4d4d4]"},re={class:"border border-[#d4d4d4]"},de={class:"p-2 border border-[#d4d4d4]"},ie={class:"p-2 border border-[#d4d4d4]"},le=e("td",{class:"p-2 border border-[#d4d4d4]",colspan:"2"},r("Total"),-1),ne={class:"p-2 border border-[#d4d4d4]"},ae={key:2},ce={class:"text-center text-red-600 my-5"},me=e("i",{class:"fa fa-exclamation-circle mr-1"},null,-1);function pe(t,o,n,_e,d,c){const h=m("jet-label"),b=m("multiselect"),f=m("TextField"),g=m("jet-button"),y=m("app-layout");return i(),E(y,null,{default:_(()=>[e("div",J,[e("div",B,[e("div",F,[e("div",j,[e("div",null,[l(h,{value:t.__("Clinic")},null,8,["value"]),l(b,{modelValue:d.form.clinic,"onUpdate:modelValue":o[0]||(o[0]=s=>d.form.clinic=s),label:"name",options:d.clinics,placeholder:"Select branch"},null,8,["modelValue","options"])]),e("div",null,[l(h,{value:t.__("Doctor")},null,8,["value"]),l(b,{modelValue:d.form.doctor,"onUpdate:modelValue":o[1]||(o[1]=s=>d.form.doctor=s),label:"name",options:d.doctors,placeholder:"Select customer"},null,8,["modelValue","options"])]),l(f,{modelValue:d.form.startDate,"onUpdate:modelValue":o[2]||(o[2]=s=>d.form.startDate=s),itemType:"date",itemLabel:t.__("Start Date")},null,8,["modelValue","itemLabel"]),l(f,{modelValue:d.form.endDate,"onUpdate:modelValue":o[3]||(o[3]=s=>d.form.endDate=s),itemType:"date",itemLabel:t.__("End Date")},null,8,["modelValue","itemLabel"])]),e("div",C,[l(g,{onClick:o[4]||(o[4]=s=>c.onSearchExpenses())},{default:_(()=>[u(r(t.__("Expenses")),1)]),_:1}),l(g,{onClick:o[5]||(o[5]=s=>c.onSearchIncomes())},{default:_(()=>[u(r(t.__("Incomes")),1)]),_:1})])])])]),e("div",U,[e("div",M,[d.expenses.length>0?(i(),a("div",O,[e("table",P,[e("thead",R,[e("th",W,r(t.__("Date")),1),e("th",q,r(t.__("ÙExpenses Amount")),1)]),e("tbody",z,[(i(!0),a(x,null,v(d.expenses,(s,ue)=>(i(),a("tr",{class:"border border-[#d4d4d4]",key:s.id},[e("td",G,r(new Date(s.date).toLocaleDateString()),1),e("td",H,r(s.totalAmount),1)]))),128)),e("tr",K,[Q,e("td",X,r(c.totalExpenses()),1)])])])])):d.incomes.length>0?(i(),a("div",Y,[e("table",Z,[e("thead",$,[e("th",ee,r(t.__("Prescription Number")),1),e("th",te,r(t.__("Date")),1),e("th",oe,r(t.__("Incomes Amount")),1)]),e("tbody",se,[(i(!0),a(x,null,v(d.incomes,s=>(i(),a("tr",{class:"border border-[#d4d4d4]",key:s.id},[e("td",re,r(s.id),1),e("td",de,r(new Date(s.dateTimeIssued).toLocaleDateString()),1),e("td",ie,r(c.getTotalLineIncome(s)),1)]))),128)),e("tr",null,[le,e("td",ne,r(c.totalIncomes()),1)])])])])):(i(),a("div",ae,[e("p",ce,[me,u(" "+r(t.__("No Records Were Found")),1)])]))])])]),_:1})}const ut=N(A,[["render",pe]]);export{ut as default};
