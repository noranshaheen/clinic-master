import{A as V}from"./AppLayout-f49bf28b.js";import M from"./TypeOfPatient-c064fc4d.js";import H from"./ChooseCancellationMethod-fb825c32.js";import T from"./AppointmentDetails-9c79a3a6.js";import{J as F}from"./ActionMessage-61e2ac70.js";import{J as N}from"./ActionSection-b2837b81.js";import{J as L}from"./Button-4bcf952d.js";import{J as E}from"./ConfirmationModal-25a9f4bd.js";import{J as O}from"./DangerButton-8bc4ac7b.js";import{J as I}from"./DialogModal-abac778c.js";import{J as U}from"./FormSection-88b4b82e.js";import{J as q}from"./Input-1c19b971.js";import{J as P}from"./Checkbox-4a56b901.js";import{J as R}from"./InputError-a5d97e62.js";import{J as W}from"./Label-df30c280.js";import{J as z}from"./SecondaryButton-713ac718.js";import{J as G}from"./SectionBorder-e50f0f2f.js";import{J as K}from"./ValidationErrors-d148bef4.js";import{M as Q}from"./vue3-multiselect.umd.min-0e68115f.js";import{T as X}from"./TextField-3250345e.js";import{k as b,c as _,w as p,r as d,o as a,a as t,b as m,i as Y,C as Z,d as c,g as y,t as l,F as x,h as f,f as g,e as $}from"./app-150d5054.js";import"./sweetalert.min-d55a1c1c.js";import{_ as tt}from"./_plugin-vue_export-helper-c27b6911.js";import"./Edit-bcfc13f2.js";import"./SectionTitle-3e354ea0.js";import"./Modal-af9a88ec.js";/* empty css            */import"./Edit-0682400b.js";import"./Edit-3c089fa6.js";import"./Edit-be99b5ee.js";import"./Edit-597f2255.js";import"./Edit-f9922137.js";import"./Edit-faa18d1d.js";import"./Edit-cd91fcb4.js";import"./Edit-07cd30d2.js";import"./Edit-34545e2b.js";import"./Edit-db4f3217.js";/* empty css                                                                  */import"./Load-49470aa5.js";import"./Load-63f267b7.js";import"./Edit-ae599c19.js";import"./Upload-84ea7cbc.js";import"./Upload-9f5fa312.js";import"./Settings-16afee17.js";import"./Settings-c1b5727e.js";import"./Upload-ac8dd442.js";import"./Request-7a72620a.js";import"./Add-a5bec431.js";import"./Load-9cedd89f.js";import"./Upload-8acddc09.js";import"./Load-38871443.js";import"./ItemsMap-522638f4.js";import"./Upload-92e0933c.js";import"./ItemsMap-e43ca060.js";import"./RequestEx-92427893.js";import"./ChoosePatient-8da54518.js";import"./ServiceFees-2b8626f6.js";const et={components:{AppLayout:V,TypeOfPatient:M,ChooseCancellationMethod:H,AppointmentDetails:T,JetActionMessage:F,JetActionSection:N,JetButton:L,JetConfirmationModal:E,JetDangerButton:O,JetDialogModal:I,JetFormSection:U,JetInput:q,JetCheckbox:P,JetInputError:R,JetLabel:W,JetSecondaryButton:z,JetSectionBorder:G,JetValidationErrors:K,Multiselect:Q,TextField:X},data(){return{allDoctors:[],form:this.$inertia.form({doctor_id:"",date:""}),appointment_Details:"",appointments:{},selectedAppointemt_id:"",cancelledAppointments:{doctor_id:"",date:""}}},methods:{searchData(){b.post(route("appointment.searchData"),this.form).then(e=>{Object.keys(e.data).length>0?this.appointments=e.data:this.appointments={},console.log(e.data)})},subtractHours(e,o){var u=new Date(e);u.setHours(u.getHours()-o);var k=u.toLocaleTimeString();return k},openDlg(e,o){this.selectedAppointemt_id=o,this.$refs[e].ShowDialog()},showDetails(e){b.get(route("appointments.show",{appointment:e})).then(o=>{console.log(o.data),this.appointment_Details=o.data,this.$refs.dlg3.ShowDialog()})},openCancellationDialog(e,o){this.cancelledAppointments.doctor_id=e,this.cancelledAppointments.date=o,this.$refs.dlg2.ShowDialog()}},created(){b.get(route("doctor.all")).then(e=>{var o=[{id:-1,name:"All"}];this.allDoctors=o.concat(e.data)})}},ot={class:"relative bg-white shadow-md dark:bg-gray-800 sm:rounded-lg mx-4 px-4"},rt={class:"p-1"},st={class:"my-2 flex justify-between"},lt={class:"w-3/5"},at={class:"grid grid-cols-2 gap-8"},it={class:"text-lg"},nt=["value"],dt={class:"text-lg"},mt={class:"w-1/5 flex flex-col justify-end items-end"},ct=t("i",{class:"fa-solid fa-magnifying-glass mx-1"},null,-1),pt={class:"mx-2 my-4"},_t={key:0,class:"relative overflow-x-auto shadow-lg sm:rounded-lg"},ut={class:"w-full text-sm text-center text-gray-500 dark:text-gray-400"},ht={class:"text-sm text-gray-700 bg-gray-200 dark:bg-gray-700 dark:text-gray-400"},ft={scope:"col",class:"px-6 py-3"},gt={scope:"col",class:"px-6 py-3"},vt={scope:"col",class:"px-6 py-3"},bt={class:"px-6 py-4 border dark:border-gray-700"},yt={class:"p-4 text-center border dark:border-gray-700"},xt={class:"flex justify-start flex-wrap"},kt={class:"border dark:border-gray-700 px-2 py-2"},wt={key:1,class:"relative overflow-x-auto shadow-lg sm:rounded-lg px-4 my-4 w-full bg-white"},Dt={class:"text-center text-red-600 my-5"},Jt=t("i",{class:"fa fa-exclamation-circle mr-1"},null,-1);function Ct(e,o,u,k,n,i){const D=d("type-of-patient"),J=d("choose-cancellation-method"),C=d("appointment-details"),w=d("jet-label"),A=d("jet-input"),j=d("jet-button"),h=d("jet-secondary-button"),S=d("JetButton"),B=d("app-layout");return a(),_(B,null,{default:p(()=>[t("div",ot,[t("div",rt,[m(D,{ref:"dlg1",appointment_id:n.selectedAppointemt_id,onSave:o[0]||(o[0]=s=>i.searchData())},null,8,["appointment_id"]),m(J,{ref:"dlg2",doctor_id:n.cancelledAppointments.doctor_id,date:n.cancelledAppointments.date,onSave:o[1]||(o[1]=s=>i.searchData())},null,8,["doctor_id","date"]),m(C,{ref:"dlg3",appointment_Details:n.appointment_Details},null,8,["appointment_Details"]),t("div",st,[t("div",lt,[t("div",at,[t("div",it,[m(w,{for:"doctor-name",value:e.__("Doctor")},null,8,["value"]),Y(t("select",{id:"doctor-name","onUpdate:modelValue":o[2]||(o[2]=s=>n.form.doctor_id=s),class:"mt-1 block w-full border-slate-300 rounded-md"},[(a(!0),c(x,null,y(n.allDoctors,s=>(a(),c("option",{value:s.id,key:s.id},l(s.name),9,nt))),128))],512),[[Z,n.form.doctor_id]])]),t("div",dt,[m(w,{for:"date",value:e.__("Date"),class:"mt-4"},null,8,["value"]),m(A,{id:"date",type:"date",modelValue:n.form.date,"onUpdate:modelValue":o[3]||(o[3]=s=>n.form.date=s),class:"mt-1 block w-full text-sm",required:""},null,8,["modelValue"])])])]),t("div",mt,[m(j,{id:"search",onClick:o[4]||(o[4]=s=>i.searchData()),class:"text-lg w-1/2 h-1/2 md:flex justify-around"},{default:p(()=>[ct,t("span",null,l(e.__("Search")),1)]),_:1})])])])]),t("div",pt,[Object.keys(n.appointments).length>0?(a(),c("div",_t,[t("table",ut,[t("thead",ht,[t("tr",null,[t("th",ft,l(e.__("Doctor")),1),t("th",gt,l(e.__("Appointments")),1),t("th",vt,l(e.__("Actions")),1)])]),t("tbody",null,[(a(!0),c(x,null,y(n.appointments,s=>(a(),c("tr",{class:"bg-white dark:bg-gray-800 dark:border-gray-700",key:s.id},[t("td",bt,l(s[0].doctor.name),1),t("td",yt,[t("div",xt,[(a(!0),c(x,null,y(s,r=>(a(),c("div",{key:r.id,class:"m-1"},[r.patient_id==null?(a(),_(h,{key:0,onClick:f(v=>i.openDlg("dlg1",r.id),["prevent"]),class:"m-1 text-blue-500 border-blue-500 hover:bg-[#4099de] hover:text-white"},{default:p(()=>[g(l(i.subtractHours(r.from,3)),1)]),_:2},1032,["onClick"])):r.cancelled==null&&r.done==null?(a(),_(h,{key:1,onClick:f(v=>i.showDetails(r.id),["prevent"]),class:"m-1 text-neutral-300 border-neutral-300 hover:bg-[#b7d5ed] hover:text-white"},{default:p(()=>[t("span",null,l(r.patient.name),1),t("p",null,l(i.subtractHours(r.from,3)),1)]),_:2},1032,["onClick"])):r.cancelled==null&&r.done==1?(a(),_(h,{key:2,onClick:f(v=>i.showDetails(r.id),["prevent"]),class:"m-1 text-green-500 border-green-500 hover:bg-green-500 hover:text-white"},{default:p(()=>[t("span",null,l(r.patient.name),1),t("p",null,l(i.subtractHours(r.from,3)),1)]),_:2},1032,["onClick"])):r.cancelled==1?(a(),_(h,{key:3,onClick:f(v=>i.showDetails(r.id),["prevent"]),class:"m-1 text-red-200 border border-red-200 text-bold hover:bg-red-200 hover:text-white"},{default:p(()=>[g(l(i.subtractHours(r.from,3)),1)]),_:2},1032,["onClick"])):$("",!0)]))),128))])]),t("td",kt,[m(S,{onClick:r=>i.openCancellationDialog(s[0].doctor_id,this.form.date)},{default:p(()=>[g(l(e.__("cancel")),1)]),_:2},1032,["onClick"])])]))),128))])])])):(a(),c("div",wt,[t("p",Dt,[Jt,g(" "+l(e.__("No Records Were Found")),1)])]))])]),_:1})}const Be=tt(et,[["render",Ct]]);export{Be as default};
