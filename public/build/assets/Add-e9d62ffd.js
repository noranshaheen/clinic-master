import{k as u,c as j,w as m,r as a,o as _,b as i,a as e,d as v,g as x,i as y,C as V,f as c,t as r,F as D}from"./app-5577a803.js";import{A as C}from"./AppLayout-bf2c4329.js";import{J as S}from"./Label-715dcd10.js";import{J as A}from"./Button-caddf70d.js";import{J as U}from"./SecondaryButton-3445fa1d.js";import{J}from"./DangerButton-0ca7bbd2.js";import{T as B}from"./TextField-f2f734f3.js";import{M as F}from"./vue3-multiselect.umd.min-7dc826ba.js";import M from"./EditLine-a2dc5a07.js";/* empty css                                                                  */import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css            */import"./Edit-3518c8d0.js";import"./ActionMessage-c078ab58.js";import"./ActionSection-503f6cc4.js";import"./SectionTitle-75c86d6b.js";import"./ConfirmationModal-747d8d1a.js";import"./Modal-5b92d53d.js";import"./DialogModal-08c723b0.js";import"./FormSection-f05163be.js";import"./Input-2cb00575.js";import"./Checkbox-0b804630.js";import"./InputError-1ce94fe9.js";import"./SectionBorder-30338fa4.js";import"./ValidationErrors-deb0d81a.js";import"./Edit-0ce9ec78.js";import"./Edit-59e1cea4.js";import"./Edit-b100ce49.js";import"./Edit-a668fbc8.js";import"./Edit-8c1a7f79.js";import"./Reservation-3f4df2b7.js";import"./Edit-de74654e.js";import"./Edit-ca5432cf.js";import"./Edit-7a1531ea.js";import"./Load-69126cbc.js";import"./Load-60ee8871.js";import"./Edit-06b7cecc.js";import"./Upload-74253f6c.js";import"./Upload-272d6997.js";import"./Settings-4793b3a5.js";import"./Settings-36898752.js";import"./Upload-4d2df8c2.js";import"./Request-20c79d13.js";import"./Add-e36b326b.js";import"./Load-13d24c7d.js";import"./Upload-28c6b9dc.js";import"./Load-3369b54b.js";import"./sweetalert.min-ea747d9b.js";import"./ItemsMap-6b0c7b7d.js";import"./Upload-bd0ab3e3.js";import"./ItemsMap-58f762b0.js";import"./RequestEx-34c826cd.js";const L={components:{AppLayout:C,JetLabel:S,JetButton:A,JetSecondaryButton:U,JetDangerButton:J,DialogInvoiceLine:M,TextField:B,Multiselect:F},props:{},data(){return{patients:[],drugs:[],errors:[],form:this.$inertia.form({patient:"",dateTimeIssued:new Date().toISOString().slice(0,16),prescriptionLines:[]})}},methods:{AddItem:function(){this.form.prescriptionLines.push({drug:"",dose:"",time:"",notes:""})},nameWithId:function({id:s,name:t}){return s+" - "+t},DeleteItem:function(s){this.form.prescriptionLines.splice(s,1)},onCancel:function(){window.history.back()},onSave:function(){u.post(route("prescriptions.store"),this.form).then(s=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.processing=!1,this.form.reset(),this.form.processing=!1,setTimeout(()=>{window.location.reload()},500)}).catch(s=>{this.form.processing=!1,this.$page.props.errors=s.response.data.errors,this.errors=s.response.data.errors})}},created:function(){this.AddItem(),u.get(route("patient.all")).then(t=>{this.patients=t.data}).catch(t=>{}),u.get(route("drug.all")).then(t=>{this.drugs=t.data}).catch(t=>{})}},W={class:"py-4"},O={class:"mx-auto sm:px-6 lg:px-8"},P={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg px-4 pb-4 pt-0"},E={class:"grid grid-cols-4 gap-4 sm:grid-cols-1 mt-4"},q={class:"col-span-2"},z={class:"col-span-2"},G={class:"col-span-4"},H={class:"col-span-2"},K={class:"col-span-2"},Q=["onUpdate:modelValue"],R=e("option",{value:"1"},r("One Time"),-1),X=e("option",{value:"2"},r("Two Times"),-1),Y=e("option",{value:"3"},r("Three Time"),-1),Z=[R,X,Y],$={class:"col-span-2"},ee=["onUpdate:modelValue"],te=e("option",{value:"day"},r("A Day"),-1),oe=e("option",{value:"week"},r("A Week"),-1),se=[te,oe],ie={class:"col-span-3"},re={class:"col-span-1"},ne={class:"flex items-center justify-end mt-4"},ae={class:"flex items-center justify-start mt-20"};function le(s,t,de,me,l,d){const w=a("jet-validation-errors"),p=a("jet-label"),f=a("multiselect"),h=a("TextField"),T=a("jet-danger-button"),g=a("jet-button"),k=a("jet-secondary-button"),I=a("app-layout");return _(),j(I,null,{default:m(()=>[i(w,{class:"mb-4 mt-4"}),e("div",W,[e("div",O,[e("div",P,[e("div",E,[e("div",q,[i(p,{value:"Patient"}),i(f,{modelValue:l.form.patient,"onUpdate:modelValue":t[0]||(t[0]=o=>l.form.patient=o),label:"id",options:l.patients,placeholder:"Select Patient",searchable:"true","custom-label":d.nameWithId,"track-by":"id"},null,8,["modelValue","options","custom-label"])]),e("div",z,[i(h,{modelValue:l.form.dateTimeIssued,"onUpdate:modelValue":t[1]||(t[1]=o=>l.form.dateTimeIssued=o),itemType:"datetime-local",itemLabel:"Date Issued"},null,8,["modelValue"])]),e("div",G,[(_(!0),v(D,null,x(l.form.prescriptionLines,(o,b)=>(_(),v("div",{key:b,class:"grid grid-cols-10 gap-4"},[e("div",H,[i(p,{value:"Medicine"}),i(f,{modelValue:o.drug,"onUpdate:modelValue":n=>o.drug=n,label:"name",options:l.drugs,placeholder:"Select Medicine",searchable:"true"},null,8,["modelValue","onUpdate:modelValue","options"])]),e("div",K,[i(p,{value:"Dose"}),y(e("select",{"onUpdate:modelValue":n=>o.dose=n,class:"mt-1 block w-full rounded border border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 shadow-sm"},Z,8,Q),[[V,o.dose]])]),e("div",$,[i(p,{value:"Time"}),y(e("select",{"onUpdate:modelValue":n=>o.time=n,class:"mt-1 block w-full rounded border border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 shadow-sm"},se,8,ee),[[V,o.time]])]),e("div",ie,[i(h,{modelValue:o.notes,"onUpdate:modelValue":n=>o.notes=n,itemType:"text",itemLabel:"Notes"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",re,[i(T,{onClick:n=>d.DeleteItem(b),class:"mt-4"},{default:m(()=>[c(r(s.__("Delete")),1)]),_:2},1032,["onClick"])])]))),128))])]),e("div",ne,[i(g,{class:"ms-2",onClick:t[2]||(t[2]=o=>d.AddItem())},{default:m(()=>[c(r(s.__("Add Another Drug")),1)]),_:1})]),e("div",ae,[i(k,{onClick:t[3]||(t[3]=o=>d.onCancel())},{default:m(()=>[c(r(s.__("Cancel")),1)]),_:1}),i(g,{class:"ms-2",onClick:t[4]||(t[4]=o=>d.onSave())},{default:m(()=>[c(r(s.__("Save")),1)]),_:1})])])])])]),_:1})}const dt=N(L,[["render",le]]);export{dt as default};
