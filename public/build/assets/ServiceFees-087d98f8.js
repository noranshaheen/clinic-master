import{J as w}from"./Button-11813b5e.js";import{J as b}from"./DialogModal-22356253.js";import{J}from"./SecondaryButton-8a1eaf86.js";import{J as S}from"./Input-8a286b7b.js";import{k as u,d as r,b as d,w as a,r as p,o as i,f as m,t as o,F as k,g as F,e as f,a as n}from"./app-010fad37.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import"./Modal-97755a3c.js";/* empty css            */const D={components:{JetButton:w,JetDialogModal:b,JetSecondaryButton:J,JetInput:S,axios:u},props:{prescription:{default:null},appointment_id:{default:null}},data(){return{showDialog:!1,total:"",message:null,form:this.$inertia.form({paid:0,appointment:null})}},methods:{ShowDialog(){this.showDialog=!0,this.message=null,console.log(this.prescription),this.form.appointment=this.appointment_id,this.prescription!==null&&this.prescription.length>0?this.getTotalServiceFees(this.prescription[0].prescription_items):this.message="Not Fount Any Additional Payments"},getTotalServiceFees(t){var e=0;t.forEach(c=>{c.service_fees!==null&&(e+=Number(c.service_fees))}),this.total=e},save(){u.post(route("payments.payServiceFees"),this.form).then(t=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.close()}).catch(t=>{})},close(){this.showDialog=!1,this.form.reset()}}},x={key:0,class:"w-full"},C={class:"border"},N={key:0,class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},V={key:1,class:"flex justify-start content-center items-center"},j={class:"border"},T={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},A={class:"font-bold"},P={class:"border"},E={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},M={class:"border"},W={key:1},I={class:"text-center text-red-600 my-5"},L=n("i",{class:"fa fa-exclamation-circle mr-1"},null,-1);function U(t,e,c,q,l,_){const h=p("jet-input"),g=p("JetButton"),v=p("JetSecondaryButton"),y=p("jet-dialog-modal");return i(),r("div",null,[d(y,{show:l.showDialog,onClose:e[3]||(e[3]=s=>l.showDialog=!1),maxWidth:"md"},{title:a(()=>[m(o(t.__("Service Fees Details")),1)]),content:a(()=>[l.message===null?(i(),r("table",x,[(i(!0),r(k,null,F(c.prescription[0].prescription_items,s=>(i(),r("tr",C,[s.service_fees!==null?(i(),r("td",N,o(s.drugs.name),1)):f("",!0),s.service_fees!==null?(i(),r("td",V,[n("span",null,o(s.service_fees),1)])):f("",!0)]))),256)),n("tr",j,[n("th",T,o(t.__("Total")),1),n("td",A,o(l.total),1)]),n("tr",P,[n("th",E,o(t.__("Pay")),1),n("tr",M,[d(h,{id:"type",type:"number",class:"block w-full rounded",modelValue:l.form.paid,"onUpdate:modelValue":e[0]||(e[0]=s=>l.form.paid=s)},null,8,["modelValue"])])])])):(i(),r("div",W,[n("p",I,[L,m(" "+o(t.__("No Additional Payments Were Found")),1)])]))]),footer:a(()=>[d(g,{class:"ml-2",onClick:e[1]||(e[1]=s=>_.save())},{default:a(()=>[m(o(t.__("Save")),1)]),_:1}),d(v,{class:"ml-2",onClick:e[2]||(e[2]=s=>_.close())},{default:a(()=>[m(o(t.__("Close")),1)]),_:1})]),_:1},8,["show"])])}const Y=B(D,[["render",U]]);export{Y as default};
