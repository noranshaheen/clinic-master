import v from"./ServiceFees-2b8626f6.js";import{J as k}from"./Button-4bcf952d.js";import{J}from"./DialogModal-abac778c.js";import{J as S}from"./SecondaryButton-713ac718.js";import{J as B}from"./Input-1c19b971.js";import{k as D,d as m,b as d,a as t,w as a,F as C,r as _,o,f as l,t as c,e as p,c as h}from"./app-150d5054.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./Modal-af9a88ec.js";/* empty css            */const P={components:{ServiceFees:v,JetButton:k,JetDialogModal:J,JetSecondaryButton:S,JetInput:B,axios:D},props:{appointment_Details:{default:null}},data(){return{showDialog:!1,amount:!1,form:this.$inertia.form({amount:"",appointment_id:"",notes:""}),prescription:[]}},methods:{ShowDialog(){this.showDialog=!0,console.log(this.appointment_Details)},subtractHours(i,s){var e=new Date(i);e.setHours(e.getHours()-s);var y=e.toLocaleTimeString();return y},additionalPayments(i){D.get(route("prescription.serviceFees",i)).then(s=>{this.prescription=s.data,this.form.appointment_id=this.appointment_Details[0].id,this.$nextTick(()=>{this.$refs.dlg1.ShowDialog()}),this.showDialog=!1})},save(){this.form.appointment_id=this.appointment_Details[0].id,D.post(route("appointment.pay"),this.form).then(i=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.close()}).catch(i=>{})},close(){this.showDialog=!1,this.amount=!1,this.form.reset()}}},T={key:0},V={class:"text-center text-red-600 my-5"},N=t("i",{class:"fa fa-exclamation-circle mr-1"},null,-1),j={class:"w-full"},A={class:"border"},H=t("th",{class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},"Reservation Time",-1),M={class:"pl-5"},q={class:"border"},E=t("th",{class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},"Patient Name",-1),I={class:"pl-5"},L={class:"border"},R=t("th",{class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},"Phone Number",-1),U={class:"pl-5"},W={class:"border"},z=t("th",{class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},"Appointment Type",-1),G={class:"pl-5"},K={class:"border"},O=t("th",{class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},"Payment Status",-1),Q={class:"pl-5"},X={class:"flex justify-between items-center"},Y={key:0,class:"font-bold text-green-500"},Z={key:1,class:"font-bold text-red-500"},$={key:0,class:"border"},tt=t("th",{class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},"Payment Amount",-1),et={class:"px-5"},st={key:1,class:"border"},ot=t("th",{class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},"Payment Amount",-1),nt={class:"px-5"};function at(i,s,e,y,n,u){const w=_("ServiceFees"),f=_("JetButton"),g=_("jet-input"),b=_("JetSecondaryButton"),x=_("jet-dialog-modal");return o(),m(C,null,[d(w,{ref:"dlg1",prescription:n.prescription,appointment_id:n.form.appointment_id},null,8,["prescription","appointment_id"]),t("div",null,[d(x,{show:n.showDialog,onClose:s[5]||(s[5]=r=>n.showDialog=n.amount=!1),maxWidth:"md"},{title:a(()=>[l(c(i.__("appointment details")),1)]),content:a(()=>[e.appointment_Details[0].cancelled?(o(),m("div",T,[t("p",V,[N,l(" "+c(i.__("This appointment has been cancelled please contact with patient to let him know")),1)])])):p("",!0),t("table",j,[t("tr",A,[H,t("td",M,c(u.subtractHours(e.appointment_Details[0].from,3)),1)]),t("tr",q,[E,t("td",I,c(e.appointment_Details[1].name),1)]),t("tr",L,[R,t("td",U,c(e.appointment_Details[1].phone),1)]),t("tr",W,[z,t("td",G,c(e.appointment_Details[0].type),1)]),t("tr",K,[O,t("td",Q,[t("div",X,[e.appointment_Details[0].status=="paid"?(o(),m("span",Y,c(e.appointment_Details[0].status),1)):p("",!0),e.appointment_Details[0].status=="hold"?(o(),m("span",Z,c(e.appointment_Details[0].status),1)):p("",!0),e.appointment_Details[0].amount==null&&e.appointment_Details[0].cancelled==null?(o(),h(f,{key:2,onClick:s[0]||(s[0]=r=>n.amount=!0),class:"font-sm"},{default:a(()=>[l(" pay ")]),_:1})):e.appointment_Details[0].cancelled!==null||e.appointment_Details[0].amount!==null?(o(),h(f,{key:3,disabled:!0,class:"font-sm bg-green-400"},{default:a(()=>[l(" pay ")]),_:1})):p("",!0)])])]),n.amount==!0?(o(),m("tr",$,[tt,t("td",et,[d(g,{id:"type",type:"text",class:"block w-full",modelValue:n.form.amount,"onUpdate:modelValue":s[1]||(s[1]=r=>n.form.amount=r),required:""},null,8,["modelValue"])])])):p("",!0),e.appointment_Details[0].status=="paid"?(o(),m("tr",st,[ot,t("td",nt,[d(g,{id:"type",type:"text",class:"block w-full",value:e.appointment_Details[0].amount,disabled:!0},null,8,["value"])])])):p("",!0)]),d(b,{class:"my-2",onClick:s[2]||(s[2]=r=>u.additionalPayments(e.appointment_Details[1].id))},{default:a(()=>[l(" additional payments ")]),_:1})]),footer:a(()=>[e.appointment_Details[0].amount==null&&e.appointment_Details[0].cancelled==null?(o(),h(f,{key:0,class:"ml-2",onClick:s[3]||(s[3]=r=>u.save())},{default:a(()=>[l(" save")]),_:1})):(o(),h(f,{key:1,class:"ml-2",disabled:!0},{default:a(()=>[l("save")]),_:1})),d(b,{class:"ml-2",onClick:s[4]||(s[4]=r=>u.close())},{default:a(()=>[l("close")]),_:1})]),_:1},8,["show"])])],64)}const ft=F(P,[["render",at]]);export{ft as default};
