import{J as w}from"./ActionMessage-c078ab58.js";import{J}from"./ActionSection-503f6cc4.js";import{J as V}from"./Button-caddf70d.js";import{J as C}from"./ConfirmationModal-747d8d1a.js";import{J as k}from"./DangerButton-0ca7bbd2.js";import{J as S}from"./DialogModal-08c723b0.js";import{J as j}from"./FormSection-f05163be.js";import{J as D}from"./Input-2cb00575.js";import{J as B}from"./Checkbox-0b804630.js";import{J as M}from"./InputError-1ce94fe9.js";import{J as N}from"./Label-715dcd10.js";import{J as I}from"./SecondaryButton-3445fa1d.js";import{J as U}from"./SectionBorder-30338fa4.js";import{J as x}from"./ValidationErrors-deb0d81a.js";import{k as c,c as P,w as u,r as l,o as f,f as p,t as a,b as n,a as t,i as h,C as _,d as T,e as q,h as F,n as A}from"./app-5577a803.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import"./SectionTitle-75c86d6b.js";import"./Modal-5b92d53d.js";/* empty css            */const O={components:{JetActionMessage:w,JetActionSection:J,JetButton:V,JetConfirmationModal:C,JetDangerButton:k,JetDialogModal:S,JetFormSection:j,JetInput:D,JetCheckbox:B,JetInputError:M,JetLabel:N,JetSecondaryButton:I,JetSectionBorder:U,JetValidationErrors:x},props:{patient:{Type:Object,default:null}},data(){return{errors:[],form:this.$inertia.form({name:"",phone:"",date_of_birth:"",type:"",gender:"",insurance_number:"",insurance_company:""}),showDialog:!1}},methods:{ShowDialog(){this.patient!==null&&(this.form.name=this.patient.name,this.form.phone=this.patient.phone,this.form.type=this.patient.type,this.form.date_of_birth=this.patient.date_of_birth,this.form.gender=this.patient.gender,this.form.insurance_number=this.patient.insurance_number,this.form.insurance_company=this.patient.insurance_company),this.showDialog=!0},CancelAddcustomer(){this.showDialog=!1},SaveCustomer(){c.put(route("patients.update",{patient:this.patient.id}),this.form).then(r=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.showDialog=!1,setTimeout(()=>{window.location.reload()},500)}).catch(r=>{console.log(r),this.form.processing=!1,this.$page.props.errors=r.response.data.errors,this.errors=r.response.data.errors})},SaveNewCustomer(){c.post(route("patients.store"),this.form).then(r=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.processing=!1,this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.showDialog=!1,setTimeout(()=>{window.location.reload()},500)}).catch(r=>{this.form.processing=!1,this.$page.props.errors=r.response.data.errors,this.errors=r.response.data.errors})},submit(){this.patient==null?this.SaveNewCustomer():this.SaveCustomer()}}},z={class:"grid grid-cols-2 gap-4"},G={class:"mt-4"},L={class:"mt-4"},H={class:"mt-4"},K={class:"mt-4"},Q={value:"M"},R={value:"F"},W={class:"mt-4"},X={value:"P"},Y={value:"I"},Z={key:0},$={class:"mt-4"},ee={class:"mt-4"},oe={class:"flex items-center justify-end"};function te(r,e,se,re,o,d){const g=l("jet-validation-errors"),i=l("jet-label"),m=l("jet-input"),b=l("jet-secondary-button"),v=l("jet-button"),y=l("jet-dialog-modal");return f(),P(y,{show:o.showDialog,onClose:e[9]||(e[9]=s=>o.showDialog=!1)},{title:u(()=>[p(a(r.__("Patient Information")),1)]),content:u(()=>[n(g,{class:"mb-4"}),t("form",{onSubmit:e[7]||(e[7]=F((...s)=>d.submit&&d.submit(...s),["prevent"]))},[t("div",z,[t("div",null,[t("div",G,[n(i,{value:"Patient Name"}),n(m,{type:"text",class:"mt-1 block w-full",modelValue:o.form.name,"onUpdate:modelValue":e[0]||(e[0]=s=>o.form.name=s),required:""},null,8,["modelValue"])]),t("div",L,[n(i,{value:"Phone Number"}),n(m,{type:"text",class:"mt-1 block w-full",modelValue:o.form.phone,"onUpdate:modelValue":e[1]||(e[1]=s=>o.form.phone=s),required:""},null,8,["modelValue"])]),t("div",H,[n(i,{value:"Date Of Birth"}),n(m,{type:"date",class:"mt-1 block w-full",modelValue:o.form.date_of_birth,"onUpdate:modelValue":e[2]||(e[2]=s=>o.form.date_of_birth=s),required:"",autofocus:""},null,8,["modelValue"])])]),t("div",null,[t("div",K,[n(i,{for:"gender",value:"Gender"}),h(t("select",{id:"gender","onUpdate:modelValue":e[3]||(e[3]=s=>o.form.gender=s),class:"mt-1 block w-full rounded border border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 shadow-sm"},[t("option",Q,a(r.__("Male")),1),t("option",R,a(r.__("Female")),1)],512),[[_,o.form.gender]])]),t("div",W,[n(i,{for:"type",value:"Type"}),h(t("select",{id:"type","onUpdate:modelValue":e[4]||(e[4]=s=>o.form.type=s),class:"mt-1 block w-full rounded border border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 shadow-sm"},[t("option",X,a(r.__("Personal")),1),t("option",Y,a(r.__("Insurance")),1)],512),[[_,o.form.type]])]),o.form.type=="I"?(f(),T("div",Z,[t("div",$,[n(i,{for:"insurance_number",value:"Insurance Number"}),n(m,{id:"insurance_number",type:"text",class:"mt-1 block w-full",modelValue:o.form.insurance_number,"onUpdate:modelValue":e[5]||(e[5]=s=>o.form.insurance_number=s),required:""},null,8,["modelValue"])]),t("div",ee,[n(i,{for:"insurance_company",value:"Insurance Company"}),n(m,{id:"insurance_company",type:"text",class:"mt-1 block w-full",modelValue:o.form.insurance_company,"onUpdate:modelValue":e[6]||(e[6]=s=>o.form.insurance_company=s),required:""},null,8,["modelValue"])])])):q("",!0)])])],32)]),footer:u(()=>[t("div",oe,[n(b,{onClick:e[8]||(e[8]=s=>d.CancelAddcustomer())},{default:u(()=>[p(a(r.__("Cancel")),1)]),_:1}),n(v,{class:A(["ms-2",{"opacity-25":o.form.processing}]),onClick:d.submit,disabled:o.form.processing},{default:u(()=>[p(a(r.__("Save")),1)]),_:1},8,["onClick","class","disabled"])])]),_:1},8,["show"])}const Ce=E(O,[["render",te]]);export{Ce as default};
