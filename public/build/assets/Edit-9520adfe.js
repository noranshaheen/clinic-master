import{J as j}from"./ActionMessage-529841b6.js";import{J as y}from"./ActionSection-14bbef3c.js";import{J as V}from"./Button-fce1e67a.js";import{J as S}from"./ConfirmationModal-2d2586d4.js";import{J as D}from"./DangerButton-bf3f8f1f.js";import{J as A}from"./DialogModal-9cb7d35f.js";import{J as B}from"./FormSection-60b88c5f.js";import{J as E}from"./Input-9c9fd5b2.js";import{J as M}from"./Checkbox-7ff4e1d6.js";import{J as N}from"./InputError-48880b4d.js";import{J as q}from"./Label-c6c7e0c2.js";import{J as x}from"./SecondaryButton-fb7ef34d.js";import{J as F}from"./SectionBorder-a45d0249.js";import{J as I}from"./ValidationErrors-ce3c07bd.js";import{M as T}from"./vue3-multiselect.umd.min-89fe1e95.js";import{k as f,c as L,w as u,r as n,o as i,f as _,t as a,b as l,a as r,i as c,C as h,d as m,F as v,g as w,e as J,h as R,n as z}from"./app-98cccb0d.js";/* empty css                                                                  */import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import"./SectionTitle-f26ec90c.js";import"./Modal-2ccc6cf7.js";/* empty css            */const P={components:{JetActionMessage:j,JetActionSection:y,JetButton:V,JetConfirmationModal:S,JetDangerButton:D,JetDialogModal:A,JetFormSection:B,JetInput:E,JetCheckbox:M,JetInputError:N,JetLabel:q,JetSecondaryButton:x,JetSectionBorder:F,JetValidationErrors:I,Multiselect:T},props:{pUser:{Type:Object,default:null}},data(){return{all_doctors:[],all_reseptionists:[],errors:[],form:this.$inertia.form({reseptionist_id:"",doctor_id:"",email:"",password:"",current_team_id:"",name:""}),showDialog:!1}},methods:{ShowDialog(){this.pUser!==null&&(this.form.name=this.pUser.name,this.form.email=this.pUser.email,this.form.current_team_id=this.pUser.current_team_id,this.pUser.current_team_id==1?this.getAll(1):this.getAll(2)),this.showDialog=!0},CancelAddUser(){this.showDialog=!1},SaveUser(){f.put(route("users.update",{user:this.pUser.id}),this.form).then(t=>{location.reload()}).catch(t=>{this.form.processing=!1,this.$page.props.errors=t.response.data.errors,this.errors=t.response.data.errors})},SaveNewUser(){f.post(route("users.store"),this.form).then(t=>{this.processing=!1,this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.showDialog=!1,location.reload()}).catch(t=>{this.form.processing=!1,this.$page.props.errors=t.response.data.errors,this.errors=t.response.data.errors})},getAll(t){t==1?f.get(route("reseptionist.all")).then(e=>{this.all_doctors=[],this.form.doctor_id="",this.all_reseptionists=e.data,console.log(e.data)}):t==2&&f.get(route("doctor.all")).then(e=>{this.all_reseptionists=[],this.form.reseptionist_id="",this.all_doctors=e.data,console.log(e.data)})},submit(){this.pUser==null?this.SaveNewUser():this.SaveUser()}}},G={class:"sm:grid sm:grid-cols-2 sm:gap-4"},H={value:"1"},K={value:"2"},Q=["value"],W=["value"],X={class:"flex items-center justify-end mt-4"};function Y(t,e,Z,$,s,d){const b=n("jet-validation-errors"),p=n("jet-label"),g=n("jet-input"),U=n("jet-secondary-button"),k=n("jet-button"),C=n("jet-dialog-modal");return i(),L(C,{show:s.showDialog,"max-width":"lg",onClose:e[8]||(e[8]=o=>s.showDialog=!1)},{title:u(()=>[_(a(t.__("User Information")),1)]),content:u(()=>[l(b,{class:"mb-4"}),r("form",{onSubmit:e[6]||(e[6]=R((...o)=>d.submit&&d.submit(...o),["prevent"]))},[r("div",G,[r("div",null,[l(p,{value:t.__("Role")},null,8,["value"]),c(r("select",{id:"type","onUpdate:modelValue":e[0]||(e[0]=o=>s.form.current_team_id=o),class:"mt-1 block w-full",onChange:e[1]||(e[1]=o=>d.getAll(s.form.current_team_id))},[r("option",H,a(t.__("Reseptionist")),1),r("option",K,a(t.__("Doctor")),1)],544),[[h,s.form.current_team_id]])]),r("div",null,[l(p,{for:"name",value:t.__("Name")},null,8,["value"]),s.all_doctors.length!=0?c((i(),m("select",{key:0,required:"","onUpdate:modelValue":e[2]||(e[2]=o=>s.form.doctor_id=o),class:"mt-1 block w-full border-slate-300 rounded-md text-sm"},[(i(!0),m(v,null,w(s.all_doctors,o=>(i(),m("option",{value:o.id,key:o.id},a(o.name),9,Q))),128))],512)),[[h,s.form.doctor_id]]):J("",!0),s.all_reseptionists.length!=0?c((i(),m("select",{key:1,required:"","onUpdate:modelValue":e[3]||(e[3]=o=>s.form.reseptionist_id=o),class:"mt-1 block w-full border-slate-300 rounded-md text-sm"},[(i(!0),m(v,null,w(s.all_reseptionists,o=>(i(),m("option",{value:o.id,key:o.id},a(o.name),9,W))),128))],512)),[[h,s.form.reseptionist_id]]):J("",!0)]),r("div",null,[l(p,{for:"Email",value:t.__("Email")},null,8,["value"]),l(g,{id:"Email",type:"Email",class:"mt-1 block w-full",modelValue:s.form.email,"onUpdate:modelValue":e[4]||(e[4]=o=>s.form.email=o),required:""},null,8,["modelValue"])]),r("div",null,[l(p,{for:"password",value:t.__("Password")},null,8,["value"]),l(g,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:s.form.password,"onUpdate:modelValue":e[5]||(e[5]=o=>s.form.password=o),required:""},null,8,["modelValue"])])])],32)]),footer:u(()=>[r("div",X,[l(U,{onClick:e[7]||(e[7]=o=>d.CancelAddUser())},{default:u(()=>[_(a(t.__("Cancel")),1)]),_:1}),l(k,{class:z(["ms-2",{"opacity-25":s.form.processing}]),onClick:d.submit,disabled:s.form.processing},{default:u(()=>[_(a(t.__("Save")),1)]),_:1},8,["onClick","class","disabled"])])]),_:1},8,["show"])}const be=O(P,[["render",Y]]);export{be as default};
