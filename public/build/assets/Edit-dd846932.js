import{J as w}from"./ActionMessage-517545cc.js";import{J}from"./ActionSection-2c866042.js";import{M as b}from"./vue3-multiselect.umd.min-939aa207.js";import{J as V}from"./Button-11813b5e.js";import{J as j}from"./ConfirmationModal-0f300aca.js";import{J as N}from"./DangerButton-367e534b.js";import{J as S}from"./DialogModal-22356253.js";import{J as k}from"./FormSection-bd296fee.js";import{J as y}from"./Input-8a286b7b.js";import{J as C}from"./Checkbox-ebdeef89.js";import{J as U}from"./InputError-317c03cf.js";import{J as B}from"./Label-e291ccc6.js";import{J as I}from"./SecondaryButton-8a1eaf86.js";import{J as M}from"./SectionBorder-822e764c.js";import{J as A}from"./ValidationErrors-31471297.js";import{k as p,c as T,w as m,r,o as x,f,t as d,b as i,a as n,h as D,n as q}from"./app-010fad37.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import"./SectionTitle-8abeab5a.js";import"./Modal-97755a3c.js";/* empty css            */const z={components:{JetActionMessage:w,Multiselect:b,JetActionSection:J,JetButton:V,JetConfirmationModal:j,JetDangerButton:N,JetDialogModal:S,JetFormSection:k,JetInput:y,JetCheckbox:C,JetInputError:U,JetLabel:B,JetSecondaryButton:I,JetSectionBorder:M,JetValidationErrors:A},props:{item:{Type:Object,default:null}},data(){return{errors:[],units:[],form:this.$inertia.form({name:"",weight:"",measurement_unit:"",selling_price:"",hiddenItem:0}),addingNew:!1}},methods:{ShowDialog(){this.item!==null&&(this.form.name=this.item.name,this.form.weight=this.item.weight,this.form.measurement_unit=this.item.measurement_unit,this.form.selling_price=this.item.selling_price,this.form.hiddenItem=this.item.hidden),this.addingNew=!0},CancelAddBranch(){this.addingNew=!1},SaveNew(){p.post(route("items.store"),this.form).then(e=>{this.processing=!1,this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.addingNew=!1}).catch(e=>{this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},Save(){p.put(route("items.update",{item:this.item.id}),this.form).then(e=>{this.processing=!1,this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.addingNew=!1}).catch(e=>{this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},submit(){this.item!==null?this.Save():this.SaveNew()}},created:function(){p.get("/json/UnitTypes.json").then(e=>{this.units=e.data}).catch(e=>{})}},F={class:"grid grid-cols-2 gap-4"},H={class:"mt-1"},L={class:"text-sm text-gray-500"},O={class:"flex items-center justify-end mt-4"};function P(e,t,W,G,o,a){const c=r("jet-validation-errors"),l=r("jet-label"),u=r("jet-input"),h=r("multiselect"),_=r("jet-secondary-button"),g=r("jet-button"),v=r("jet-dialog-modal");return x(),T(v,{show:o.addingNew,onClose:t[8]||(t[8]=s=>o.addingNew=!1)},{title:m(()=>[f(d(e.__("Add new item")),1)]),content:m(()=>[i(c,{class:"mb-4"}),n("form",{onSubmit:t[5]||(t[5]=D((...s)=>a.submit&&a.submit(...s),["prevent"]))},[n("div",F,[n("div",null,[i(l,{for:"itemName",value:e.__("Name")},null,8,["value"]),i(u,{id:"itemName",type:"text",class:"mt-1 block w-full",modelValue:o.form.name,"onUpdate:modelValue":t[0]||(t[0]=s=>o.form.name=s),required:"",autofocus:""},null,8,["modelValue"]),i(l,{for:"measurement_unit",value:e.__("Measurement Unit")},null,8,["value"]),i(h,{modelValue:o.form.measurement_unit,"onUpdate:modelValue":t[1]||(t[1]=s=>o.form.measurement_unit=s),options:o.units,label:"desc_en",searchable:!0,placeholder:e.__("Select Unit"),class:"mt-1 block w-full"},null,8,["modelValue","options","placeholder"]),n("div",H,[i(u,{class:"m-1",type:"checkbox",name:"hidden",value:"1",modelValue:o.form.hiddenItem,"onUpdate:modelValue":t[2]||(t[2]=s=>o.form.hiddenItem=s)},null,8,["modelValue"]),i(l,{value:e.__("Hidden Item")},null,8,["value"])])]),n("div",null,[i(l,{for:"weight",value:e.__("Item Weight/Volume")},null,8,["value"]),n("span",L,d(e.__(" (optional)")),1),i(u,{id:"weight",type:"number",class:"mt-1 block w-full",modelValue:o.form.weight,"onUpdate:modelValue":t[3]||(t[3]=s=>o.form.weight=s),required:"",autofocus:""},null,8,["modelValue"]),i(l,{for:"selling_price",value:e.__("Selling Price per unit")},null,8,["value"]),i(u,{id:"selling_price",type:"number",class:"mt-1 block w-full",modelValue:o.form.selling_price,"onUpdate:modelValue":t[4]||(t[4]=s=>o.form.selling_price=s),required:"",autofocus:""},null,8,["modelValue"])])])],32)]),footer:m(()=>[n("div",O,[i(_,{onClick:t[6]||(t[6]=s=>a.CancelAddBranch())},{default:m(()=>[f(d(e.__("Cancel")),1)]),_:1}),i(g,{class:q(["ms-2",{"opacity-25":o.form.processing}]),onClick:t[7]||(t[7]=s=>a.SaveNew()),disabled:o.form.processing},{default:m(()=>[f(d(e.__("Save")),1)]),_:1},8,["class","disabled"])])]),_:1},8,["show"])}const fe=E(z,[["render",P]]);export{fe as default};
