import{J as S}from"./ActionMessage-61e2ac70.js";import{J as D}from"./ActionSection-b2837b81.js";import{J as j}from"./Button-4bcf952d.js";import{J as I}from"./ConfirmationModal-25a9f4bd.js";import{J as N}from"./DangerButton-8bc4ac7b.js";import{J as T}from"./DialogModal-abac778c.js";import{J as U}from"./FormSection-88b4b82e.js";import{J as M}from"./Input-1c19b971.js";import{J as B}from"./Checkbox-4a56b901.js";import{T as F}from"./TextField-3250345e.js";import{J as P}from"./InputError-a5d97e62.js";import{J as q}from"./Label-df30c280.js";import{J as E}from"./SecondaryButton-713ac718.js";import{J as A}from"./SectionBorder-e50f0f2f.js";import{J as L}from"./ValidationErrors-d148bef4.js";import{k as f,c as O,w as d,r as l,o as c,f as _,t as a,b as i,a as o,d as v,i as p,D as h,e as b,C as g,h as x,n as z}from"./app-150d5054.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import"./SectionTitle-3e354ea0.js";import"./Modal-af9a88ec.js";/* empty css            */const R={components:{JetActionMessage:S,JetActionSection:D,JetButton:j,JetConfirmationModal:I,JetDangerButton:N,JetDialogModal:T,JetFormSection:U,JetInput:M,JetCheckbox:B,JetInputError:P,JetLabel:q,JetSecondaryButton:E,JetSectionBorder:A,JetValidationErrors:L,TextField:F},props:{patient:{Type:Object,default:null},appointment_id:{default:null}},data(){return{errors:[],form:this.$inertia.form({name:"",phone:"",date_of_birth:"",type:"",gender:"",insurance_number:"",insurance_company:"",appointment_type:"",additionalInformation:""}),showDialog:!1}},methods:{ShowDialog(){this.patient!==null&&(this.form.name=this.patient.name,this.form.phone=this.patient.phone,this.form.type=this.patient.type,this.form.date_of_birth=this.patient.date_of_birth,this.form.gender=this.patient.gender,this.form.insurance_number=this.patient.insurance_number,this.form.insurance_company=this.patient.insurance_company,this.form.additionalInformation=this.patient.additionalInformation),this.showDialog=!0},CancelAddcustomer(){this.showDialog=!1},SaveCustomer(){f.put(route("patients.update",{patient:this.patient.id}),this.form).then(e=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.showDialog=!1,setTimeout(()=>{window.location.reload()},500)}).catch(e=>{console.log(e),this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},SaveNewCustomer(){this.appointment_id==null?f.post(route("patients.store"),this.form).then(e=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.processing=!1,this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.showDialog=!1,setTimeout(()=>{window.location.reload()},500)}).catch(e=>{this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors}):f.post(route("appointment.reserveNewPatient",{appointment_id:this.appointment_id}),this.form).then(e=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.showDialog=!1,this.$emit("Save")}).catch(e=>{this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},submit(){this.patient==null?this.SaveNewCustomer():this.SaveCustomer()}}},H={class:"grid grid-cols-2 gap-4"},K={class:"mt-4"},Q={class:"mt-4"},W={class:"mt-4"},X={class:"mt-4"},Y={key:0,class:"mt-4"},Z={class:"mt-2"},$={class:"mb-2"},ee=o("label",{for:"1",class:"ml-2"},"Normal",-1),oe={class:"mb-2"},te=o("label",{for:"2",class:"ml-2"},"Emergency",-1),se={class:"mb-2"},ne=o("label",{for:"3",class:"ml-2"},"Consultation",-1),ie={class:"mt-4"},re={value:"M"},le={value:"F"},ae={class:"mt-4"},me={value:"P"},de={value:"I"},pe={key:0},ue={class:"mt-4"},fe={class:"mt-4"},ce={class:"flex items-center justify-end"};function _e(e,t,y,he,s,u){const w=l("jet-validation-errors"),r=l("jet-label"),m=l("jet-input"),J=l("TextField"),V=l("jet-secondary-button"),C=l("jet-button"),k=l("jet-dialog-modal");return c(),O(k,{show:s.showDialog,onClose:t[13]||(t[13]=n=>s.showDialog=!1)},{title:d(()=>[_(a(e.__("Patient Information")),1)]),content:d(()=>[i(w,{class:"mb-4"}),o("form",{onSubmit:t[11]||(t[11]=x((...n)=>u.submit&&u.submit(...n),["prevent"]))},[o("div",H,[o("div",null,[o("div",K,[i(r,{value:e.__("Patient Name")},null,8,["value"]),i(m,{type:"text",class:"mt-1 block w-full",modelValue:s.form.name,"onUpdate:modelValue":t[0]||(t[0]=n=>s.form.name=n),required:"",id:"name"},null,8,["modelValue"])]),o("div",Q,[i(r,{value:e.__("Phone Number")},null,8,["value"]),i(m,{type:"text",class:"mt-1 block w-full",modelValue:s.form.phone,"onUpdate:modelValue":t[1]||(t[1]=n=>s.form.phone=n),required:"",id:"phone"},null,8,["modelValue"])]),o("div",W,[i(r,{value:e.__("Date Of Birth")},null,8,["value"]),i(m,{type:"date",class:"mt-1 block w-full",modelValue:s.form.date_of_birth,"onUpdate:modelValue":t[2]||(t[2]=n=>s.form.date_of_birth=n),autofocus:"",id:"Birthdate"},null,8,["modelValue"])]),o("div",X,[i(J,{modelValue:s.form.additionalInformation,"onUpdate:modelValue":t[3]||(t[3]=n=>s.form.additionalInformation=n),itemType:"text",itemLabel:e.__("Additional Information (optional)")},null,8,["modelValue","itemLabel"])]),y.appointment_id!=null?(c(),v("div",Y,[i(r,{value:e.__("Detection Type")},null,8,["value"]),o("div",Z,[o("div",$,[p(o("input",{id:"1",type:"radio",name:"type",value:"Normal","onUpdate:modelValue":t[4]||(t[4]=n=>s.form.appointment_type=n)},null,512),[[h,s.form.appointment_type]]),ee]),o("div",oe,[p(o("input",{id:"2",type:"radio",name:"type",value:"Emergency","onUpdate:modelValue":t[5]||(t[5]=n=>s.form.appointment_type=n)},null,512),[[h,s.form.appointment_type]]),te]),o("div",se,[p(o("input",{id:"3",type:"radio",name:"type",value:"Consultation","onUpdate:modelValue":t[6]||(t[6]=n=>s.form.appointment_type=n)},null,512),[[h,s.form.appointment_type]]),ne])])])):b("",!0)]),o("div",null,[o("div",ie,[i(r,{for:"gender",value:e.__("Gender")},null,8,["value"]),p(o("select",{id:"gender","onUpdate:modelValue":t[7]||(t[7]=n=>s.form.gender=n),required:"",class:"mt-1 block w-full rounded border border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 shadow-sm"},[o("option",re,a(e.__("Male")),1),o("option",le,a(e.__("Female")),1)],512),[[g,s.form.gender]])]),o("div",ae,[i(r,{for:"type",value:e.__("Type")},null,8,["value"]),p(o("select",{id:"type","onUpdate:modelValue":t[8]||(t[8]=n=>s.form.type=n),required:"",class:"mt-1 block w-full rounded border border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 shadow-sm"},[o("option",me,a(e.__("Personal")),1),o("option",de,a(e.__("Insurance")),1)],512),[[g,s.form.type]])]),s.form.type=="I"?(c(),v("div",pe,[o("div",ue,[i(r,{for:"insurance_number",value:e.__("Insurance Number")},null,8,["value"]),i(m,{id:"insurance_number",type:"text",class:"mt-1 block w-full",modelValue:s.form.insurance_number,"onUpdate:modelValue":t[9]||(t[9]=n=>s.form.insurance_number=n),required:""},null,8,["modelValue"])]),o("div",fe,[i(r,{for:"insurance_company",value:e.__("Insurance Company")},null,8,["value"]),i(m,{id:"insurance_company",type:"text",class:"mt-1 block w-full",modelValue:s.form.insurance_company,"onUpdate:modelValue":t[10]||(t[10]=n=>s.form.insurance_company=n),required:""},null,8,["modelValue"])])])):b("",!0)])])],32)]),footer:d(()=>[o("div",ce,[i(V,{onClick:t[12]||(t[12]=n=>u.CancelAddcustomer())},{default:d(()=>[_(a(e.__("Cancel")),1)]),_:1}),i(C,{class:z(["ms-2",{"opacity-25":s.form.processing}]),onClick:u.submit,disabled:s.form.processing},{default:d(()=>[_(a(e.__("Save")),1)]),_:1},8,["onClick","class","disabled"])])]),_:1},8,["show"])}const qe=G(R,[["render",_e]]);export{qe as default};
