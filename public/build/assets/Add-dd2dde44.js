import{J as y}from"./ActionMessage-517545cc.js";import{J as V}from"./ActionSection-2c866042.js";import{J as g}from"./Button-11813b5e.js";import{J}from"./ConfirmationModal-0f300aca.js";import{J as C}from"./DangerButton-367e534b.js";import{J as k}from"./DialogModal-22356253.js";import{J as L}from"./FormSection-bd296fee.js";import{J as S}from"./Input-8a286b7b.js";import{J as T}from"./Checkbox-ebdeef89.js";import{J as w}from"./InputError-317c03cf.js";import{J as j}from"./Label-e291ccc6.js";import{J as D}from"./SecondaryButton-8a1eaf86.js";import{J as B}from"./SectionBorder-822e764c.js";import{J as U}from"./ValidationErrors-31471297.js";import{M}from"./vue3-multiselect.umd.min-939aa207.js";import{T as N}from"./TextField-f89d8302.js";import{k as p,c as A,w as a,r as m,o as F,f as u,t as c,a as r,b as i,e as I,h as E,n as O}from"./app-010fad37.js";/* empty css                                                                  */import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import"./SectionTitle-8abeab5a.js";import"./Modal-97755a3c.js";/* empty css            */const x={components:{TextField:N,JetActionMessage:y,JetActionSection:V,JetButton:g,JetConfirmationModal:J,JetDangerButton:C,JetDialogModal:k,JetFormSection:L,JetInput:S,JetCheckbox:T,JetInputError:w,JetLabel:j,JetSecondaryButton:D,JetSectionBorder:B,JetValidationErrors:U,Multiselect:M},props:{positem:{Type:Object,default:null}},data(){return{errors:[],branches:[],activities:[],form:this.$inertia.form({name:"POS1",serial:"253142",os_version:"os",model:"Legacy_Model",pos_key:" ",grant_type:"client_credentials",client_id:"779bf63a-e6a3-452d-a7c9-09b80a726b14",client_secret:"20872ee3-f132-4954-8bf5-7d836a751f14",issuer_id:"",issuer:"",activity_code:"",activityCode:""}),showDialog:!1}},methods:{ShowDialog(){this.positem!==null&&(this.form.id=this.positem.id,this.form.name=this.positem.name,this.form.serial=this.positem.serial,this.form.os_version=this.positem.os_version,this.form.model=this.positem.model,this.form.pos_key=this.positem.pos_key,this.form.activity_code=this.positem.activity_code,this.form.grant_type=this.positem.grant_type,this.form.client_id=this.positem.client_id,this.form.client_secret=this.positem.client_secret,this.form.issuer_id=this.positem.issuer_id,this.form.issuer=this.branches.find(t=>t.Id===this.positem.issuer_id),this.form.activityCode=this.activities.find(t=>t.code===this.positem.activity_code)),this.showDialog=!0},CancelAddRequest(){this.form.reset(),this.showDialog=!1},submit(){this.form.issuer_id=this.form.issuer.Id,this.form.activity_code=this.form.activityCode.code,this.positem!==null?p.put(route("pos.update",this.positem.id),this.form).then(t=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.showDialog=!1}).catch(t=>{this.form.processing=!1,this.$page.props.errors=t.response.data.errors,this.errors=t.response.data.errors}):p.post(route("pos.store"),this.form).then(t=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.showDialog=!1}).catch(t=>{this.form.processing=!1,this.$page.props.errors=t.response.data.errors,this.errors=t.response.data.errors})}},created:function(){p.get(route("json.branches")).then(e=>{this.branches=e.data,this.positem&&(this.form.issuer=this.branches.find(n=>n.Id===this.positem.issuer_id))}).catch(e=>{}),p.get("/json/ActivityCodes.json").then(e=>{this.activities=e.data,this.positem?this.form.activityCode=this.activities.find(n=>n.code===this.positem.activity_code):this.form.activityCode=this.activities[0]}).catch(e=>{})}},q={class:"grid grid-cols-2 gap-4"};const R={class:"col-span-2"},z={class:"col-span-2"},G={class:"lg:col-span-2"},K={class:"flex items-center justify-end"};function H(t,e,n,Q,o,d){const l=m("TextField"),f=m("jet-label"),h=m("multiselect"),_=m("jet-secondary-button"),v=m("jet-button"),b=m("jet-dialog-modal");return F(),A(b,{show:o.showDialog,onClose:e[12]||(e[12]=s=>o.showDialog=!1)},{title:a(()=>[u(c(t.__("Add New POS")),1)]),content:a(()=>[r("form",{onSubmit:e[10]||(e[10]=E((...s)=>d.submit&&d.submit(...s),["prevent"]))},[r("div",q,[r("div",null,[i(l,{modelValue:o.form.name,"onUpdate:modelValue":e[0]||(e[0]=s=>o.form.name=s),itemType:"input",itemLabel:t.__("POS Name")},null,8,["modelValue","itemLabel"])]),r("div",null,[i(f,{value:t.__("Branch")},null,8,["value"]),i(h,{modelValue:o.form.issuer,"onUpdate:modelValue":e[1]||(e[1]=s=>o.form.issuer=s),label:"name",options:o.branches,placeholder:"Select branch"},null,8,["modelValue","options"])]),r("div",null,[i(l,{modelValue:o.form.serial,"onUpdate:modelValue":e[2]||(e[2]=s=>o.form.serial=s),itemType:"input",itemLabel:t.__("Serial Number")},null,8,["modelValue","itemLabel"])]),r("div",null,[i(l,{modelValue:o.form.os_version,"onUpdate:modelValue":e[3]||(e[3]=s=>o.form.os_version=s),itemType:"input",itemLabel:t.__("Version")},null,8,["modelValue","itemLabel"])]),r("div",null,[i(l,{modelValue:o.form.model,"onUpdate:modelValue":e[4]||(e[4]=s=>o.form.model=s),itemType:"input",itemLabel:t.__("Model")},null,8,["modelValue","itemLabel"])]),r("div",null,[i(l,{modelValue:o.form.pos_key,"onUpdate:modelValue":e[5]||(e[5]=s=>o.form.pos_key=s),itemType:"input",itemLabel:t.__("POS Key")},null,8,["modelValue","itemLabel"])]),I("",!0),r("div",R,[i(l,{modelValue:o.form.client_id,"onUpdate:modelValue":e[7]||(e[7]=s=>o.form.client_id=s),itemType:"input",itemLabel:t.__("Client ID")},null,8,["modelValue","itemLabel"])]),r("div",z,[i(l,{modelValue:o.form.client_secret,"onUpdate:modelValue":e[8]||(e[8]=s=>o.form.client_secret=s),itemType:"input",itemLabel:t.__("Client Secret")},null,8,["modelValue","itemLabel"])]),r("div",G,[i(f,{value:t.__("Branch Activity")},null,8,["value"]),i(h,{modelValue:o.form.activityCode,"onUpdate:modelValue":e[9]||(e[9]=s=>o.form.activityCode=s),label:"Desc_ar",options:o.activities,placeholder:"Select activity"},null,8,["modelValue","options"])])])],32)]),footer:a(()=>[r("div",K,[i(_,{onClick:e[11]||(e[11]=s=>d.CancelAddRequest())},{default:a(()=>[u(c(t.__("Cancel")),1)]),_:1}),i(v,{class:O(["ms-2",{"opacity-25":o.form.processing}]),onClick:d.submit,disabled:o.form.processing},{default:a(()=>[u(c(t.__("Save")),1)]),_:1},8,["onClick","class","disabled"])])]),_:1},8,["show"])}const be=P(x,[["render",H]]);export{be as default};
