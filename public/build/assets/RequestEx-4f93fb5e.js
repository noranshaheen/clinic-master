import{J as b}from"./ActionMessage-529841b6.js";import{J as v}from"./ActionSection-14bbef3c.js";import{J as S}from"./Button-fce1e67a.js";import{J as V}from"./ConfirmationModal-2d2586d4.js";import{J as D}from"./DangerButton-bf3f8f1f.js";import{J as w}from"./DialogModal-9cb7d35f.js";import{J as C}from"./FormSection-60b88c5f.js";import{J as j}from"./Input-9c9fd5b2.js";import{J as k}from"./Checkbox-7ff4e1d6.js";import{J as y}from"./InputError-48880b4d.js";import{J as A}from"./Label-c6c7e0c2.js";import{J as B}from"./SecondaryButton-fb7ef34d.js";import{J as T}from"./SectionBorder-a45d0249.js";import{J as M}from"./ValidationErrors-ce3c07bd.js";import{T as I}from"./TextField-4dc08153.js";import{M as x}from"./vue3-multiselect.umd.min-89fe1e95.js";import{k as d,c as F,w as i,r as a,o as L,f as u,t as p,a as l,b as r,h as U,n as q}from"./app-98cccb0d.js";/* empty css                                                                  */import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import"./SectionTitle-f26ec90c.js";import"./Modal-2ccc6cf7.js";/* empty css            */const N={components:{Multiselect:x,TextField:I,JetActionMessage:b,JetActionSection:v,JetButton:S,JetConfirmationModal:V,JetDangerButton:D,JetDialogModal:w,JetFormSection:C,JetInput:j,JetCheckbox:k,JetInputError:y,JetLabel:A,JetSecondaryButton:B,JetSectionBorder:T,JetValidationErrors:M},props:{},data(){return{errors:[],branches:[],customers:[],form:this.$inertia.form({issuer:"",receiver:"",start_date:new Date().toISOString().slice(0,10),end_date:new Date().toISOString().slice(0,10)}),showDialog:!1}},methods:{ShowDialog(){this.showDialog=!0},CancelAddRequest(){this.showDialog=!1},submit(){d.post(route("archive.request.store"),this.form).then(t=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.showDialog=!1}).catch(t=>{this.form.processing=!1,this.$page.props.errors=t.response.data.errors,this.errors=t.response.data.errors})}},created:function(){d.get(route("json.branches")).then(e=>{var n=[{Id:-1,name:"All"}];this.branches=n.concat(e.data)}).catch(e=>{console.log(e)}),d.get(route("json.customers")).then(e=>{var n=[{Id:-1,name:"All"}];this.customers=n.concat(e.data)}).catch(e=>{console.log(e)})}},R={class:"grid grid-cols-2 gap-4"},O={class:"flex items-center justify-end"};function z(t,e,n,P,o,m){const c=a("jet-label"),f=a("multiselect"),h=a("TextField"),_=a("jet-secondary-button"),g=a("jet-button"),J=a("jet-dialog-modal");return L(),F(J,{show:o.showDialog,onClose:e[6]||(e[6]=s=>o.showDialog=!1)},{title:i(()=>[u(p(t.__("Prepare Archive")),1)]),content:i(()=>[l("form",{onSubmit:e[4]||(e[4]=U((...s)=>m.submit&&m.submit(...s),["prevent"]))},[l("div",R,[l("div",null,[r(c,{value:t.__("Branch")},null,8,["value"]),r(f,{modelValue:o.form.issuer,"onUpdate:modelValue":e[0]||(e[0]=s=>o.form.issuer=s),label:"name",options:o.branches,placeholder:"Select branch"},null,8,["modelValue","options"])]),l("div",null,[r(c,{value:t.__("Customer")},null,8,["value"]),r(f,{modelValue:o.form.receiver,"onUpdate:modelValue":e[1]||(e[1]=s=>o.form.receiver=s),label:"name",options:o.customers,placeholder:"Select customer"},null,8,["modelValue","options"])]),l("div",null,[r(h,{modelValue:o.form.start_date,"onUpdate:modelValue":e[2]||(e[2]=s=>o.form.start_date=s),itemType:"date",itemLabel:t.__("Start Date")},null,8,["modelValue","itemLabel"])]),l("div",null,[r(h,{modelValue:o.form.end_date,"onUpdate:modelValue":e[3]||(e[3]=s=>o.form.end_date=s),itemType:"date",itemLabel:t.__("End Date")},null,8,["modelValue","itemLabel"])])])],32)]),footer:i(()=>[l("div",O,[r(_,{onClick:e[5]||(e[5]=s=>m.CancelAddRequest())},{default:i(()=>[u(p(t.__("Cancel")),1)]),_:1}),r(g,{class:q(["ms-2",{"opacity-25":o.form.processing}]),onClick:m.submit,disabled:o.form.processing},{default:i(()=>[u(p(t.__("Send")),1)]),_:1},8,["onClick","class","disabled"])])]),_:1},8,["show"])}const ce=E(N,[["render",z]]);export{ce as default};
