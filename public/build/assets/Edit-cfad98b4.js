import{J as k}from"./ActionMessage-529841b6.js";import{J as S}from"./ActionSection-14bbef3c.js";import{J as D}from"./Button-fce1e67a.js";import{J as j}from"./ConfirmationModal-2d2586d4.js";import{J as I}from"./DangerButton-bf3f8f1f.js";import{J as N}from"./DialogModal-9cb7d35f.js";import{J as U}from"./FormSection-60b88c5f.js";import{J as M}from"./Input-9c9fd5b2.js";import{J as B}from"./Checkbox-7ff4e1d6.js";import{T}from"./TextField-4dc08153.js";import{J as F}from"./InputError-48880b4d.js";import{J as P}from"./Label-c6c7e0c2.js";import{J as q}from"./SecondaryButton-fb7ef34d.js";import{J as E}from"./SectionBorder-a45d0249.js";import{J as A}from"./ValidationErrors-ce3c07bd.js";import{k as f,c as O,w as d,r as m,o as c,f as _,t as r,b as i,a as o,d as v,i as u,D as h,e as g,C as b,h as z,n as G}from"./app-98cccb0d.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";import"./SectionTitle-f26ec90c.js";import"./Modal-2ccc6cf7.js";/* empty css            */const R={components:{JetActionMessage:k,JetActionSection:S,JetButton:D,JetConfirmationModal:j,JetDangerButton:I,JetDialogModal:N,JetFormSection:U,JetInput:M,JetCheckbox:B,JetInputError:F,JetLabel:P,JetSecondaryButton:q,JetSectionBorder:E,JetValidationErrors:A,TextField:T},props:{patient:{Type:Object,default:null},appointment_id:{default:null}},data(){return{errors:[],form:this.$inertia.form({name:"",phone:"",date_of_birth:"",type:"",gender:"",insurance_number:"",insurance_company:"",appointment_type:"",additionalInformation:""}),showDialog:!1}},methods:{ShowDialog(){this.patient!==null&&(this.form.name=this.patient.name,this.form.phone=this.patient.phone,this.form.type=this.patient.type,this.form.date_of_birth=this.patient.date_of_birth,this.form.gender=this.patient.gender,this.form.insurance_number=this.patient.insurance_number,this.form.insurance_company=this.patient.insurance_company,this.form.additionalInformation=this.patient.additionalInformation),this.showDialog=!0},CancelAddcustomer(){this.showDialog=!1},SaveCustomer(){f.put(route("patients.update",{patient:this.patient.id}),this.form).then(e=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.showDialog=!1,setTimeout(()=>{window.location.reload()},500)}).catch(e=>{console.log(e),this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},SaveNewCustomer(){this.appointment_id==null?f.post(route("patients.store"),this.form).then(e=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.processing=!1,this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.showDialog=!1,setTimeout(()=>{window.location.reload()},500)}).catch(e=>{this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors}):f.post(route("appointment.reserveNewPatient",{appointment_id:this.appointment_id}),this.form).then(e=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.showDialog=!1,this.$emit("Save")}).catch(e=>{this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},submit(){this.patient==null?this.SaveNewCustomer():this.SaveCustomer()}}},H={class:"flex flex-col sm:grid sm:grid-cols-2 sm:gap-4"},K={class:"w-full"},Q={class:"mt-4"},W={class:"mt-4"},X={class:"mt-4"},Y={class:"mt-4"},Z={key:0,class:"mt-4"},x={class:"mt-2"},$={class:"mb-2"},ee={for:"1",class:"ml-2"},oe={class:"mb-2"},te={for:"2",class:"ml-2"},se={class:"mb-2"},ne={for:"3",class:"ml-2"},ie={class:"w-full"},re={class:"mt-4"},le={value:"M"},ae={value:"F"},me={class:"mt-4"},de={value:"P"},ue={value:"I"},pe={key:0},fe={class:"mt-4"},ce={class:"mt-4"},_e={class:"flex items-center justify-end"};function he(e,t,y,ve,s,p){const w=m("jet-validation-errors"),l=m("jet-label"),a=m("jet-input"),J=m("jet-secondary-button"),V=m("jet-button"),C=m("jet-dialog-modal");return c(),O(C,{show:s.showDialog,onClose:t[13]||(t[13]=n=>s.showDialog=!1)},{title:d(()=>[_(r(e.__("Patient Information")),1)]),content:d(()=>[i(w,{class:"mb-4"}),o("form",{onSubmit:t[11]||(t[11]=z((...n)=>p.submit&&p.submit(...n),["prevent"]))},[o("div",H,[o("div",K,[o("div",Q,[i(l,{value:e.__("Patient Name")},null,8,["value"]),i(a,{type:"text",class:"mt-1 block w-full",modelValue:s.form.name,"onUpdate:modelValue":t[0]||(t[0]=n=>s.form.name=n),required:"",id:"name"},null,8,["modelValue"])]),o("div",W,[i(l,{value:e.__("Phone Number")},null,8,["value"]),i(a,{type:"text",class:"mt-1 block w-full",modelValue:s.form.phone,"onUpdate:modelValue":t[1]||(t[1]=n=>s.form.phone=n),required:"",id:"phone"},null,8,["modelValue"])]),o("div",X,[i(l,{value:e.__("Date Of Birth")},null,8,["value"]),i(a,{type:"date",class:"mt-1 block w-full",modelValue:s.form.date_of_birth,"onUpdate:modelValue":t[2]||(t[2]=n=>s.form.date_of_birth=n),autofocus:"",id:"Birthdate"},null,8,["modelValue"])]),o("div",Y,[i(l,{value:e.__("Additional Information")},null,8,["value"]),i(a,{type:"text",class:"mt-1 block w-full",modelValue:s.form.additionalInformation,"onUpdate:modelValue":t[3]||(t[3]=n=>s.form.additionalInformation=n),placeholder:"optional",autofocus:"",id:"info"},null,8,["modelValue"])]),y.appointment_id!=null?(c(),v("div",Z,[i(l,{value:e.__("Detection Type")},null,8,["value"]),o("div",x,[o("div",$,[u(o("input",{id:"1",type:"radio",name:"type",value:"Normal","onUpdate:modelValue":t[4]||(t[4]=n=>s.form.appointment_type=n)},null,512),[[h,s.form.appointment_type]]),o("label",ee,r(e.__("Normal")),1)]),o("div",oe,[u(o("input",{id:"2",type:"radio",name:"type",value:"Emergency","onUpdate:modelValue":t[5]||(t[5]=n=>s.form.appointment_type=n)},null,512),[[h,s.form.appointment_type]]),o("label",te,r(e.__("Emergency")),1)]),o("div",se,[u(o("input",{id:"3",type:"radio",name:"type",value:"Consultation","onUpdate:modelValue":t[6]||(t[6]=n=>s.form.appointment_type=n)},null,512),[[h,s.form.appointment_type]]),o("label",ne,r(e.__("Consultation")),1)])])])):g("",!0)]),o("div",ie,[o("div",re,[i(l,{for:"gender",value:e.__("Gender")},null,8,["value"]),u(o("select",{id:"gender","onUpdate:modelValue":t[7]||(t[7]=n=>s.form.gender=n),required:"",class:"mt-1 block w-full rounded border border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 shadow-sm"},[o("option",le,r(e.__("Male")),1),o("option",ae,r(e.__("Female")),1)],512),[[b,s.form.gender]])]),o("div",me,[i(l,{for:"type",value:e.__("Type")},null,8,["value"]),u(o("select",{id:"type","onUpdate:modelValue":t[8]||(t[8]=n=>s.form.type=n),required:"",class:"mt-1 block w-full rounded border border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 shadow-sm"},[o("option",de,r(e.__("Personal")),1),o("option",ue,r(e.__("Insurance")),1)],512),[[b,s.form.type]])]),s.form.type=="I"?(c(),v("div",pe,[o("div",fe,[i(l,{for:"insurance_number",value:e.__("Insurance Number")},null,8,["value"]),i(a,{id:"insurance_number",type:"text",class:"mt-1 block w-full",modelValue:s.form.insurance_number,"onUpdate:modelValue":t[9]||(t[9]=n=>s.form.insurance_number=n),required:""},null,8,["modelValue"])]),o("div",ce,[i(l,{for:"insurance_company",value:e.__("Insurance Company")},null,8,["value"]),i(a,{id:"insurance_company",type:"text",class:"mt-1 block w-full",modelValue:s.form.insurance_company,"onUpdate:modelValue":t[10]||(t[10]=n=>s.form.insurance_company=n),required:""},null,8,["modelValue"])])])):g("",!0)])])],32)]),footer:d(()=>[o("div",_e,[i(J,{onClick:t[12]||(t[12]=n=>p.CancelAddcustomer())},{default:d(()=>[_(r(e.__("Cancel")),1)]),_:1}),i(V,{class:G(["ms-2",{"opacity-25":s.form.processing}]),onClick:p.submit,disabled:s.form.processing},{default:d(()=>[_(r(e.__("Save")),1)]),_:1},8,["onClick","class","disabled"])])]),_:1},8,["show"])}const Ee=L(R,[["render",he]]);export{Ee as default};
