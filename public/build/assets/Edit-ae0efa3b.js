import{J as V}from"./ActionMessage-529841b6.js";import{J as j}from"./ActionSection-14bbef3c.js";import{J as D}from"./Button-fce1e67a.js";import{J as B}from"./ConfirmationModal-2d2586d4.js";import{J as N}from"./DangerButton-bf3f8f1f.js";import{J as x}from"./DialogModal-9cb7d35f.js";import{J as A}from"./FormSection-60b88c5f.js";import{J as M}from"./Input-9c9fd5b2.js";import{J as E}from"./Checkbox-7ff4e1d6.js";import{J as U}from"./InputError-48880b4d.js";import{J as F}from"./Label-c6c7e0c2.js";import{J as T}from"./SecondaryButton-fb7ef34d.js";import{J as q}from"./SectionBorder-a45d0249.js";import{J as I}from"./ValidationErrors-ce3c07bd.js";import{k as p,c as L,w as l,r as a,o as d,f as h,t as m,b as r,a as i,i as z,C as O,d as c,g as b,F as k,n as w,e as W,h as G}from"./app-98cccb0d.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import"./SectionTitle-f26ec90c.js";import"./Modal-2ccc6cf7.js";/* empty css            */const K={components:{JetActionMessage:V,JetActionSection:j,JetButton:D,JetConfirmationModal:B,JetDangerButton:N,JetDialogModal:x,JetFormSection:A,JetInput:M,JetCheckbox:E,JetInputError:U,JetLabel:F,JetSecondaryButton:T,JetSectionBorder:q,JetValidationErrors:I},props:{inventory:{Type:Object,default:null}},data(){return{errors:[],allClinics:[],form:this.$inertia.form({name:"",address:"",clinic_id:"",stocks:[]}),showDialog:!1}},methods:{ShowDialog(){this.inventory!==null&&(this.form.name=this.inventory.name,this.form.address=this.inventory.location,this.form.clinic_id=this.inventory.clinic_id,this.form.stocks=this.inventory.stocks),this.showDialog=!0},CancelAddcustomer(){this.showDialog=!1},addStock(){this.form.stocks.push({name:""})},deleteEntry(e){this.form.stocks.splice(e,1)},SaveCustomer(){p.put(route("inventories.update",{id:this.inventory.id}),this.form).then(e=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.showDialog=!1,setTimeout(()=>{window.location.reload()},500)}).catch(e=>{console.log(e),this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},SaveNewCustomer(){p.post(route("inventories.store"),this.form).then(e=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.processing=!1,this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.showDialog=!1,setTimeout(()=>{window.location.reload()},500)}).catch(e=>{this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},submit(){this.inventory==null?this.SaveNewCustomer():this.SaveCustomer()}},created:function(){this.addStock(),p.get(route("clinic.all")).then(o=>{this.allClinics=o.data}).catch(o=>{console.log(o)})}},P={class:"grid grid-cols-1 gap-4"},Q={class:"mt-4"},R={class:"mt-4"},X=["value"],Y={class:"flex justify-between items-center"},Z=["onClick"],$={class:"col-span-1 w-1/5 my-2 mx-auto"},ee={class:""},oe={class:"hidden lg:inline"},se={class:"flex items-center justify-end"};function te(e,o,_,ie,t,n){const J=a("jet-validation-errors"),u=a("jet-label"),f=a("jet-input"),v=a("jet-button"),C=a("jet-secondary-button"),S=a("jet-dialog-modal");return d(),L(S,{show:t.showDialog,onClose:o[5]||(o[5]=s=>t.showDialog=!1)},{title:l(()=>[h(m(e.__("Warehouse Information")),1)]),content:l(()=>[r(J,{class:"mb-4"}),i("form",{onSubmit:o[3]||(o[3]=G((...s)=>n.submit&&n.submit(...s),["prevent"]))},[i("div",P,[i("div",null,[i("div",Q,[r(u,{for:"type",value:e.__("Name")},null,8,["value"]),r(f,{id:"type",type:"text",class:"mt-1 block w-full",modelValue:t.form.name,"onUpdate:modelValue":o[0]||(o[0]=s=>t.form.name=s),required:""},null,8,["modelValue"])]),i("div",R,[r(u,{for:"type",value:e.__("Address")},null,8,["value"]),r(f,{id:"type",type:"text",class:"mt-1 block w-full",modelValue:t.form.address,"onUpdate:modelValue":o[1]||(o[1]=s=>t.form.address=s),required:""},null,8,["modelValue"])]),i("div",null,[r(u,{for:"branch",value:e.__("Clinic")},null,8,["value"]),z(i("select",{id:"branch",required:"","onUpdate:modelValue":o[2]||(o[2]=s=>t.form.clinic_id=s),class:"mt-1 block w-full rounded border border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 shadow-sm"},[(d(!0),c(k,null,b(t.allClinics,s=>(d(),c("option",{key:s.id,value:s.id},m(s.name),9,X))),128))],512),[[O,t.form.clinic_id]])]),(d(!0),c(k,null,b(t.form.stocks,(s,g)=>(d(),c("div",{key:g,class:"mt-4"},[r(u,{value:e.__("Stock Name"),class:"block"},null,8,["value"]),i("div",Y,[r(f,{type:"text",class:w(["mt-1 text-sm w-full",{"w-11/12":!_.inventory}]),modelValue:s.name,"onUpdate:modelValue":y=>s.name=y,required:""},null,8,["class","modelValue","onUpdate:modelValue"]),_.inventory?W("",!0):(d(),c("i",{key:0,class:"fa-solid fa-trash text-red-600 w-1/12 px-5",onClick:y=>n.deleteEntry(g)},null,8,Z))])]))),128)),i("div",$,[r(v,{class:"ps-2 w-full mt-1",onClick:n.addStock,disabled:t.form.processing},{default:l(()=>[i("span",ee,m(e.__("Add")),1),i("span",oe,m(e.__(" A Stock")),1)]),_:1},8,["onClick","disabled"])])])])],32)]),footer:l(()=>[i("div",se,[r(C,{onClick:o[4]||(o[4]=s=>n.CancelAddcustomer())},{default:l(()=>[h(m(e.__("Cancel")),1)]),_:1}),r(v,{class:w(["ms-2",{"opacity-25":t.form.processing}]),onClick:n.submit,disabled:t.form.processing},{default:l(()=>[h(m(e.__("Save")),1)]),_:1},8,["onClick","class","disabled"])])]),_:1},8,["show"])}const Ce=H(K,[["render",te]]);export{Ce as default};
