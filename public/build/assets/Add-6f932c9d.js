import{A as T}from"./AppLayout-f49bf28b.js";import{J as A}from"./Label-df30c280.js";import{J as C}from"./Button-4bcf952d.js";import{J as k}from"./SecondaryButton-713ac718.js";import{J as U}from"./DangerButton-8bc4ac7b.js";import{T as w}from"./TextField-3250345e.js";import{M as j}from"./vue3-multiselect.umd.min-0e68115f.js";import B from"./EditLine-0ace7ad9.js";import{k as f,c as D,w as d,r as m,o as _,a as t,b as i,t as n,d as b,g as I,f as p,F as J}from"./app-150d5054.js";/* empty css                                                                  */import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";import"./Edit-bcfc13f2.js";import"./ActionMessage-61e2ac70.js";import"./ActionSection-b2837b81.js";import"./SectionTitle-3e354ea0.js";import"./ConfirmationModal-25a9f4bd.js";import"./Modal-af9a88ec.js";import"./DialogModal-abac778c.js";import"./FormSection-88b4b82e.js";import"./Input-1c19b971.js";import"./Checkbox-4a56b901.js";import"./InputError-a5d97e62.js";import"./SectionBorder-e50f0f2f.js";import"./ValidationErrors-d148bef4.js";/* empty css            */import"./Edit-0682400b.js";import"./Edit-3c089fa6.js";import"./Edit-be99b5ee.js";import"./Edit-597f2255.js";import"./Edit-f9922137.js";import"./Edit-faa18d1d.js";import"./Edit-cd91fcb4.js";import"./Edit-07cd30d2.js";import"./Edit-34545e2b.js";import"./Edit-db4f3217.js";import"./Load-49470aa5.js";import"./Load-63f267b7.js";import"./Edit-ae599c19.js";import"./Upload-84ea7cbc.js";import"./Upload-9f5fa312.js";import"./Settings-16afee17.js";import"./Settings-c1b5727e.js";import"./Upload-ac8dd442.js";import"./Request-7a72620a.js";import"./Add-a5bec431.js";import"./Load-9cedd89f.js";import"./Upload-8acddc09.js";import"./Load-38871443.js";import"./sweetalert.min-d55a1c1c.js";import"./ItemsMap-522638f4.js";import"./Upload-92e0933c.js";import"./ItemsMap-e43ca060.js";import"./RequestEx-92427893.js";const L={components:{AppLayout:T,JetLabel:A,JetButton:C,JetSecondaryButton:k,JetDangerButton:U,DialogInvoiceLine:B,TextField:w,Multiselect:j},props:{},data(){return{doctors:[],clinics:[],errors:[],form:this.$inertia.form({billLines:[],doctor:"",clinic:"",date:"",billTotalAmount:0})}},methods:{AddItem:function(){this.form.billLines.push({item:"",quantity:0,total:0})},DeleteItem:function(o){this.form.billLines.splice(o,1)},onCancel:function(){window.location.reload()},totalAmount(){var o=0;if(this.form.billLines.length!=0)return this.form.billLines.forEach(e=>{o+=Number(e.total)}),this.form.billTotalAmount=o,o},onSave:function(){f.post(route("bills.store"),this.form).then(o=>{this.processing=!1,this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.tab_idx=1}).catch(o=>{this.form.processing=!1,this.$page.props.errors=o.response.data.errors,this.errors=o.response.data.errors})}},created:function(){f.get(route("doctor.all")).then(e=>{this.doctors=e.data}),f.get(route("clinic.all")).then(e=>{this.clinics=e.data})}},S={class:"py-4"},F={class:"mx-auto sm:px-6 lg:px-8"},N={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg px-4 pb-4 pt-0"},q={class:"grid lg:grid-cols-3 gap-4 sm:grid-cols-1 h-1/2 overflow"},E={class:""},M={class:""},Q={class:""},z={class:"flex items-center justify-end mt-4"},G={class:""},H={class:"flex items-center justify-end mt-20"};function K(o,e,O,P,r,a){const h=m("jet-label"),v=m("multiselect"),u=m("TextField"),c=m("jet-button"),V=m("jet-secondary-button"),g=m("app-layout");return _(),D(g,null,{default:d(()=>[t("div",S,[t("div",F,[t("div",N,[t("div",q,[t("div",E,[i(h,{value:o.__("Clinic")},null,8,["value"]),i(v,{modelValue:r.form.clinic,"onUpdate:modelValue":e[0]||(e[0]=l=>r.form.clinic=l),label:"name",options:r.clinics,placeholder:"Select branch"},null,8,["modelValue","options"])]),t("div",M,[i(h,{value:o.__("Doctor")},null,8,["value"]),i(v,{modelValue:r.form.doctor,"onUpdate:modelValue":e[1]||(e[1]=l=>r.form.doctor=l),label:"name",options:r.doctors,placeholder:"Select doctor"},null,8,["modelValue","options"])]),t("div",Q,[i(u,{modelValue:r.form.date,"onUpdate:modelValue":e[2]||(e[2]=l=>r.form.date=l),itemType:"date",itemLabel:o.__("Bill Date")},null,8,["modelValue","itemLabel"])])]),t("div",null,[t("div",null,[t("div",null,[t("table",null,[t("thead",null,[t("tr",null,[t("th",null,n(o.__("Item")),1),t("th",null,n(o.__("Quantity")),1),t("th",null,n(o.__("total")),1),t("th",null,n(o.__("Action")),1)])]),t("tbody",null,[(_(!0),b(J,null,I(r.form.billLines,(l,y)=>(_(),b("tr",null,[t("td",null,[i(u,{modelValue:l.item,"onUpdate:modelValue":s=>l.item=s,itemType:"text"},null,8,["modelValue","onUpdate:modelValue"])]),t("td",null,[i(u,{modelValue:l.quantity,"onUpdate:modelValue":s=>l.quantity=s,itemType:"number"},null,8,["modelValue","onUpdate:modelValue"])]),t("td",null,[i(u,{modelValue:l.total,"onUpdate:modelValue":s=>l.total=s,itemType:"number"},null,8,["modelValue","onUpdate:modelValue"])]),t("td",null,[i(c,{class:"ms-2",onClick:s=>a.DeleteItem(y)},{default:d(()=>[p(n(o.__("Delete Item")),1)]),_:2},1032,["onClick"])])]))),256))])])]),t("div",z,[i(c,{class:"ms-2",onClick:e[3]||(e[3]=l=>a.AddItem())},{default:d(()=>[p(n(o.__("Add New Item")),1)]),_:1})]),t("h3",G,[p(n(o.__("Total Amount :"))+" ",1),t("span",null,n(a.totalAmount()),1)])]),t("div",H,[i(V,{onClick:e[4]||(e[4]=l=>a.onCancel())},{default:d(()=>[p(n(o.__("Cancel")),1)]),_:1}),i(c,{class:"ms-2",onClick:e[5]||(e[5]=l=>a.onSave())},{default:d(()=>[p(n(o.__("Save")),1)]),_:1})])])])])])]),_:1})}const Pt=x(L,[["render",K]]);export{Pt as default};
