import{J as v}from"./ActionMessage-529841b6.js";import{J}from"./ActionSection-14bbef3c.js";import{M as w}from"./vue3-multiselect.umd.min-89fe1e95.js";import{J as j}from"./Button-fce1e67a.js";import{J as N}from"./ConfirmationModal-2d2586d4.js";import{J as k}from"./DangerButton-bf3f8f1f.js";import{J as S}from"./DialogModal-9cb7d35f.js";import{J as C}from"./FormSection-60b88c5f.js";import{J as y}from"./Input-9c9fd5b2.js";import{J as V}from"./Checkbox-7ff4e1d6.js";import{J as B}from"./InputError-48880b4d.js";import{J as I}from"./Label-c6c7e0c2.js";import{J as M}from"./SecondaryButton-fb7ef34d.js";import{J as U}from"./SectionBorder-a45d0249.js";import{J as x}from"./ValidationErrors-ce3c07bd.js";import{k as d,c as A,w as a,r as n,o as D,f as p,t as u,b as r,a as i,i as T,u as E,h as q,n as z}from"./app-98cccb0d.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./SectionTitle-f26ec90c.js";import"./Modal-2ccc6cf7.js";/* empty css            */const L={components:{JetActionMessage:v,Multiselect:w,JetActionSection:J,JetButton:j,JetConfirmationModal:N,JetDangerButton:k,JetDialogModal:S,JetFormSection:C,JetInput:y,JetCheckbox:V,JetInputError:B,JetLabel:I,JetSecondaryButton:M,JetSectionBorder:U,JetValidationErrors:x},props:{item:{Type:Object,default:null}},data(){return{errors:[],units:[],form:this.$inertia.form({name:"",measurement_unit:"",storableItem:0}),addingNew:!1}},methods:{ShowDialog(){this.item!==null&&(this.form.name=this.item.name,this.form.storableItem=this.item.storable),this.addingNew=!0},CancelAddBranch(){this.addingNew=!1},SaveNew(){d.post(route("items.store"),this.form).then(e=>{this.processing=!1,this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.addingNew=!1}).catch(e=>{this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},Save(){d.put(route("items.update",{item:this.item.id}),this.form).then(e=>{this.processing=!1,this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.addingNew=!1}).catch(e=>{this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},submit(){this.item!==null?this.Save():this.SaveNew()}},created:function(){d.get("/json/UnitTypes.json").then(e=>{this.units=e.data}).catch(e=>{})}},O={class:"sm:grid sm:grid-cols-1 sm:gap-4"},G={class:""},H={class:"mt-1"},K={class:"hidden sm:block mt-2"},P={class:"flex items-center justify-end mt-4"};function Q(e,t,R,W,s,m){const f=n("jet-validation-errors"),l=n("jet-label"),c=n("jet-input"),h=n("multiselect"),_=n("jet-secondary-button"),b=n("jet-button"),g=n("jet-dialog-modal");return D(),A(g,{show:s.addingNew,onClose:t[6]||(t[6]=o=>s.addingNew=!1)},{title:a(()=>[p(u(e.__("Add new item")),1)]),content:a(()=>[r(f,{class:"mb-4"}),i("form",{onSubmit:t[3]||(t[3]=q((...o)=>m.submit&&m.submit(...o),["prevent"]))},[i("div",O,[i("div",null,[i("div",G,[r(l,{for:"itemName",value:e.__("Name")},null,8,["value"]),r(c,{id:"itemName",type:"text",class:"mt-1 block w-full",modelValue:s.form.name,"onUpdate:modelValue":t[0]||(t[0]=o=>s.form.name=o),required:"",autofocus:""},null,8,["modelValue"])]),i("div",H,[r(l,{value:e.__("Measurement Unit")},null,8,["value"]),r(h,{modelValue:s.form.measurement_unit,"onUpdate:modelValue":t[1]||(t[1]=o=>s.form.measurement_unit=o),options:s.units,label:"desc_en",searchable:!0,"track-by":"id",placeholder:e.__("Select Unit"),class:"mt-1 block w-full"},null,8,["modelValue","options","placeholder"])]),i("div",K,[T(i("input",{type:"checkbox",class:"m-1",name:"storableItem","true-value":1,"false-value":0,"onUpdate:modelValue":t[2]||(t[2]=o=>s.form.storableItem=o)},null,512),[[E,s.form.storableItem]]),r(l,{value:e.__("Storable Item")},null,8,["value"])])])])],32)]),footer:a(()=>[i("div",P,[r(_,{onClick:t[4]||(t[4]=o=>m.CancelAddBranch())},{default:a(()=>[p(u(e.__("Cancel")),1)]),_:1}),r(b,{class:z(["ms-2",{"opacity-25":s.form.processing}]),onClick:t[5]||(t[5]=o=>m.submit()),disabled:s.form.processing},{default:a(()=>[p(u(e.__("Save")),1)]),_:1},8,["class","disabled"])])]),_:1},8,["show"])}const _e=F(L,[["render",Q]]);export{_e as default};
