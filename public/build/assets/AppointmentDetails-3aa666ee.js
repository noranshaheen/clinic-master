import S from"./ServiceFees-c3724a56.js";import{J as B}from"./Button-fce1e67a.js";import{J as C}from"./DialogModal-9cb7d35f.js";import{J as P}from"./SecondaryButton-fb7ef34d.js";import{J as x}from"./DangerButton-bf3f8f1f.js";import{J as A}from"./Input-9c9fd5b2.js";import{k as D,d as c,a as s,b as p,w as i,F as T,r as d,o as a,f as r,t as n,e as _,c as f}from"./app-98cccb0d.js";import{s as y}from"./sweetalert.min-9f604034.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./Modal-2ccc6cf7.js";/* empty css            */const V={components:{ServiceFees:S,JetButton:B,JetDialogModal:C,JetSecondaryButton:P,JetDangerButton:x,JetInput:A,axios:D,swal:y},props:{appointment_Details:{default:null}},data(){return{showDialog:!1,amount:!1,form:this.$inertia.form({amount:"",appointment_id:"",notes:""}),prescription:[]}},methods:{ShowDialog(){this.showDialog=!0,console.log(this.appointment_Details)},subtractHours(t,o){var e=new Date(t);e.setHours(e.getHours()-o);var g=e.toLocaleTimeString();return g},additionalPayments(t){D.get(route("prescription.serviceFees",t)).then(o=>{this.prescription=o.data,this.form.appointment_id=t,this.$nextTick(()=>{this.$refs.dlg1.ShowDialog()})})},save(){this.form.appointment_id=this.appointment_Details[0].id,D.post(route("appointment.pay"),this.form).then(t=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.close()}).catch(t=>{})},cancelAppointment(){var t=this.appointment_Details[0].id;y({title:this.__("Are you sure?"),text:this.__("Once approved it will cancel this appointment"),icon:"warning",buttons:!0,dangerMode:!0}).then(o=>{o&&D.delete(route("appointments.destroy",{appointment:t})).then(e=>{y({title:this.__("This appointment have been cancelled"),icon:"success"}).then(g=>{this.showDialog=!1,this.$emit("Delete")})})})},close(){this.showDialog=!1,this.amount=!1,this.form.reset()}}},N={key:0},j={class:"text-center text-red-600 my-5"},H=s("i",{class:"fa fa-exclamation-circle mr-1"},null,-1),M={class:"w-full"},q={class:"border"},E={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},I={class:"pl-5"},L={class:"border"},O={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},R={class:"pl-5"},U={class:"border"},W={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},z={class:"pl-5"},G={class:"border"},K={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},Q={class:"pl-5"},X={class:"border"},Y={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},Z={class:"pl-5"},$={class:"flex justify-between items-center"},tt={key:0,class:"font-bold text-green-500"},et={key:1,class:"font-bold text-red-500"},st={key:0,class:"border"},nt={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},ot={class:"px-5"},at={key:1,class:"border"},it={class:"bg-[#f8f9fa] p-2 w-1/3 text-center"},lt={class:"px-5"};function rt(t,o,e,g,l,u){const h=d("JetButton"),b=d("jet-input"),w=d("JetSecondaryButton"),v=d("JetDangerButton"),k=d("jet-dialog-modal"),J=d("ServiceFees");return a(),c(T,null,[s("div",null,[p(k,{show:l.showDialog,onClose:o[6]||(o[6]=m=>l.showDialog=l.amount=!1),maxWidth:"md"},{title:i(()=>[r(n(t.__("Appointment Details")),1)]),content:i(()=>[e.appointment_Details[0].cancelled?(a(),c("div",N,[s("p",j,[H,r(" "+n(t.__("This appointment has been cancelled please contact with patient")),1)])])):_("",!0),s("table",M,[s("tr",q,[s("th",E,n(t.__("Reservation Time")),1),s("td",I,n(u.subtractHours(e.appointment_Details[0].from,3)),1)]),s("tr",L,[s("th",O,n(t.__("Patient Name")),1),s("td",R,n(e.appointment_Details[1].name),1)]),s("tr",U,[s("th",W,n(t.__("Phone Number")),1),s("td",z,n(e.appointment_Details[1].phone),1)]),s("tr",G,[s("th",K,n(t.__("Appointment Type")),1),s("td",Q,n(e.appointment_Details[0].type),1)]),s("tr",X,[s("th",Y,n(t.__("Payment Status")),1),s("td",Z,[s("div",$,[e.appointment_Details[0].status=="paid"?(a(),c("span",tt,n(t.__(e.appointment_Details[0].status)),1)):_("",!0),e.appointment_Details[0].status=="hold"?(a(),c("span",et,n(t.__(e.appointment_Details[0].status)),1)):_("",!0),e.appointment_Details[0].amount==null&&e.appointment_Details[0].cancelled==null?(a(),f(h,{key:2,onClick:o[0]||(o[0]=m=>l.amount=!0),class:"font-sm"},{default:i(()=>[r(n(t.__("Pay")),1)]),_:1})):e.appointment_Details[0].cancelled!==null||e.appointment_Details[0].amount!==null?(a(),f(h,{key:3,disabled:!0,class:"font-sm bg-green-400"},{default:i(()=>[r(n(t.__("Pay")),1)]),_:1})):_("",!0)])])]),l.amount==!0?(a(),c("tr",st,[s("th",nt,n(t.__("Payment Amount")),1),s("td",ot,[p(b,{id:"type",type:"text",class:"block w-full",modelValue:l.form.amount,"onUpdate:modelValue":o[1]||(o[1]=m=>l.form.amount=m),required:""},null,8,["modelValue"])])])):_("",!0),e.appointment_Details[0].status=="paid"?(a(),c("tr",at,[s("th",it,n(t.__("Payment Amount")),1),s("td",lt,[p(b,{id:"type",type:"text",class:"block w-full",value:e.appointment_Details[0].amount,disabled:!0},null,8,["value"])])])):_("",!0)]),p(w,{class:"my-2",onClick:o[2]||(o[2]=m=>u.additionalPayments(e.appointment_Details[0].id))},{default:i(()=>[r(n(t.__("Additional Payments")),1)]),_:1})]),footer:i(()=>[e.appointment_Details[0].amount==null&&e.appointment_Details[0].cancelled==null?(a(),f(h,{key:0,class:"ml-2",onClick:o[3]||(o[3]=m=>u.save())},{default:i(()=>[r(n(t.__("Save")),1)]),_:1})):(a(),f(h,{key:1,class:"ml-2",disabled:!0},{default:i(()=>[r(n(t.__("Save")),1)]),_:1})),e.appointment_Details[0].amount==null&&e.appointment_Details[0].cancelled==null?(a(),f(v,{key:2,class:"ml-2",onClick:o[4]||(o[4]=m=>u.cancelAppointment())},{default:i(()=>[r(n(t.__("Delete")),1)]),_:1})):_("",!0),p(w,{class:"ml-2",onClick:o[5]||(o[5]=m=>u.close())},{default:i(()=>[r(n(t.__("Close")),1)]),_:1})]),_:1},8,["show"])]),p(J,{ref:"dlg1",prescription:l.prescription,appointment_id:l.form.appointment_id},null,8,["prescription","appointment_id"])],64)}const bt=F(V,[["render",rt]]);export{bt as default};
